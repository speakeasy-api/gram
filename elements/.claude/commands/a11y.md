---
description: Check component accessibility
---

# Accessibility Check

Audit a component for accessibility issues and fix them.

## Process

1. **Read the component** to understand its purpose and interactions

2. **Check semantic HTML**:
   - Is the correct element used? (`button` vs `div`, `nav` vs `div`)
   - Are headings in order? (h1 → h2 → h3)
   - Are lists using `ul/ol` with `li`?

3. **Check interactive elements**:

   | Element | Requirements |
   |---------|-------------|
   | Buttons | `type="button"`, visible focus, aria-label if icon-only |
   | Links | Has `href`, describes destination |
   | Inputs | Has `label`, error messages linked via `aria-describedby` |
   | Dialogs | Focus trap, escape to close, aria-labelledby |
   | Menus | Arrow key nav, escape to close, role="menu" |

4. **Check ARIA usage**:

   ```tsx
   // Icon-only button needs label
   <button type="button" aria-label="Close dialog">
     <XIcon aria-hidden="true" />
   </button>

   // Loading state
   <button aria-busy={isLoading} disabled={isLoading}>
     {isLoading ? 'Loading...' : 'Submit'}
   </button>

   // Expandable content
   <button aria-expanded={isOpen} aria-controls="panel-id">
     Toggle
   </button>
   <div id="panel-id" hidden={!isOpen}>Content</div>

   // Error messages
   <input aria-invalid={!!error} aria-describedby="error-id" />
   {error && <span id="error-id" role="alert">{error}</span>}
   ```

5. **Check keyboard navigation**:
   - Tab order is logical
   - Focus is visible
   - All interactions work with keyboard
   - No keyboard traps (except modals)

6. **Check with Radix UI**:
   If wrapping Radix components, they handle most a11y:
   - Dialog: focus trap, escape, aria
   - Popover: focus management
   - Tooltip: keyboard trigger, timing
   - Collapsible: aria-expanded

7. **Common fixes**:

   ```tsx
   // Bad: div acting as button
   <div onClick={handleClick}>Click me</div>

   // Good: semantic button
   <button type="button" onClick={handleClick}>Click me</button>

   // Bad: image without alt
   <img src="..." />

   // Good: descriptive or decorative
   <img src="..." alt="User avatar" />
   <img src="..." alt="" aria-hidden="true" />  // decorative

   // Bad: color only indicates state
   <span className="text-red-500">Error</span>

   // Good: text + icon + color
   <span className="text-red-500" role="alert">
     <AlertIcon aria-hidden="true" /> Error: Invalid input
   </span>
   ```

8. **Run automated checks** (if available):
   ```bash
   # In Storybook, use a11y addon
   pnpm dev
   # Check the Accessibility tab in Storybook panel
   ```

## Accessibility Checklist

### Basics
- [ ] Semantic HTML elements used
- [ ] Heading hierarchy correct
- [ ] Color contrast sufficient (4.5:1 for text)
- [ ] Focus visible on all interactive elements

### Interactive Elements
- [ ] Buttons have accessible names
- [ ] Links describe destination
- [ ] Form inputs have labels
- [ ] Error messages are announced

### Keyboard
- [ ] All functionality keyboard accessible
- [ ] Tab order logical
- [ ] No keyboard traps
- [ ] Escape closes modals/popups

### Screen Readers
- [ ] Meaningful alt text for images
- [ ] Decorative images hidden
- [ ] Live regions for dynamic content
- [ ] ARIA used correctly (not overused)

## Arguments
- `$ARGUMENTS`: Component path to audit
