// Code generated by goa v3.23.4, DO NOT EDIT.
//
// logs service
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/server/design

package logs

import (
	"context"

	goa "goa.design/goa/v3/pkg"
	"goa.design/goa/v3/security"
)

// Call logs for a toolset.
type Service interface {
	// List call logs for a toolset.
	ListLogs(context.Context, *ListLogsPayload) (res *ListToolLogResponse, err error)
	// List structured logs from tool executions.
	ListToolExecutionLogs(context.Context, *ListToolExecutionLogsPayload) (res *ListToolExecutionLogsResult, err error)
	// List unified telemetry logs following OpenTelemetry Logs Data Model.
	ListTelemetryLogs(context.Context, *ListTelemetryLogsPayload) (res *ListTelemetryLogsResult, err error)
	// List trace summaries for distributed tracing.
	ListTraces(context.Context, *ListTracesPayload) (res *ListTracesResult, err error)
	// List all logs for a specific trace ID.
	ListLogsForTrace(context.Context, *ListLogsForTracePayload) (res *ListLogsForTraceResult, err error)
}

// Auther defines the authorization functions to be implemented by the service.
type Auther interface {
	// APIKeyAuth implements the authorization logic for the APIKey security scheme.
	APIKeyAuth(ctx context.Context, key string, schema *security.APIKeyScheme) (context.Context, error)
}

// APIName is the name of the API as defined in the design.
const APIName = "gram"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "logs"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [5]string{"listLogs", "listToolExecutionLogs", "listTelemetryLogs", "listTraces", "listLogsForTrace"}

// HTTP tool request and response log entry
type HTTPToolLog struct {
	// Id of the request
	ID *string
	// Timestamp of the request
	Ts string
	// Organization UUID
	OrganizationID string
	// Project UUID
	ProjectID *string
	// Deployment UUID
	DeploymentID string
	// Tool UUID
	ToolID string
	// Tool URN
	ToolUrn string
	// Tool type
	ToolType ToolType
	// Trace ID for correlation
	TraceID string
	// Span ID for correlation
	SpanID string
	// HTTP method
	HTTPMethod string
	// HTTP Server URL
	HTTPServerURL string
	// HTTP route
	HTTPRoute string
	// HTTP status code
	StatusCode int64
	// Duration in milliseconds
	DurationMs float64
	// User agent
	UserAgent string
	// Request headers
	RequestHeaders map[string]string
	// Request body size in bytes
	RequestBodyBytes *int64
	// Response headers
	ResponseHeaders map[string]string
	// Response body size in bytes
	ResponseBodyBytes *int64
}

// ListLogsForTracePayload is the payload type of the logs service
// listLogsForTrace method.
type ListLogsForTracePayload struct {
	ApikeyToken      *string
	SessionToken     *string
	ProjectSlugInput *string
	// Trace ID (32 hex characters)
	TraceID string
}

// ListLogsForTraceResult is the result type of the logs service
// listLogsForTrace method.
type ListLogsForTraceResult struct {
	// List of telemetry log records for this trace
	Logs []*TelemetryLogRecord
}

// ListLogsPayload is the payload type of the logs service listLogs method.
type ListLogsPayload struct {
	ApikeyToken      *string
	SessionToken     *string
	ProjectSlugInput *string
	// Tool ID
	ToolID *string
	// Start timestamp
	TsStart *string
	// End timestamp
	TsEnd *string
	// Cursor for pagination
	Cursor *string
	// Number of items per page (1-100)
	PerPage int
	// Pagination direction
	Direction string
	// Sort order
	Sort string
	// Status filter
	Status *string
	// Server name filter
	ServerName *string
	// Tool name filter
	ToolName *string
	// Tool type filter
	ToolType *string
	// Tool URNs filter
	ToolUrns []string
}

// ListTelemetryLogsPayload is the payload type of the logs service
// listTelemetryLogs method.
type ListTelemetryLogsPayload struct {
	ApikeyToken      *string
	SessionToken     *string
	ProjectSlugInput *string
	// Start time in Unix nanoseconds
	TimeStart *int64
	// End time in Unix nanoseconds
	TimeEnd *int64
	// Gram URN filter
	GramUrn *string
	// Trace ID filter (32 hex characters)
	TraceID *string
	// Deployment ID filter
	DeploymentID *string
	// Function ID filter
	FunctionID *string
	// Severity level filter
	SeverityText *string
	// HTTP status code filter
	HTTPStatusCode *int32
	// HTTP route filter
	HTTPRoute *string
	// HTTP method filter
	HTTPMethod *string
	// Service name filter
	ServiceName *string
	// Cursor for pagination
	Cursor *string
	// Number of items to return (1-1000)
	Limit int
	// Sort order
	Sort string
}

// ListTelemetryLogsResult is the result type of the logs service
// listTelemetryLogs method.
type ListTelemetryLogsResult struct {
	// List of telemetry log records
	Logs []*TelemetryLogRecord
	// Cursor for next page
	NextCursor *string
}

// ListToolExecutionLogsPayload is the payload type of the logs service
// listToolExecutionLogs method.
type ListToolExecutionLogsPayload struct {
	ApikeyToken      *string
	SessionToken     *string
	ProjectSlugInput *string
	// Start timestamp
	TsStart *string
	// End timestamp
	TsEnd *string
	// Deployment ID filter
	DeploymentID *string
	// Function ID filter
	FunctionID *string
	// Instance filter
	Instance *string
	// Log level filter
	Level *string
	// Log source filter
	Source *string
	// Cursor for pagination
	Cursor *string
	// Number of items per page (1-100)
	PerPage int
	// Pagination direction
	Direction string
	// Sort order
	Sort string
}

// ListToolExecutionLogsResult is the result type of the logs service
// listToolExecutionLogs method.
type ListToolExecutionLogsResult struct {
	// List of tool execution logs
	Logs []*ToolExecutionLog
	// Pagination metadata
	Pagination *PaginationResponse
}

// ListToolLogResponse is the result type of the logs service listLogs method.
type ListToolLogResponse struct {
	Logs       []*HTTPToolLog
	Pagination *PaginationResponse
	// Whether tool metrics are enabled for the organization
	Enabled bool
}

// ListTracesPayload is the payload type of the logs service listTraces method.
type ListTracesPayload struct {
	ApikeyToken      *string
	SessionToken     *string
	ProjectSlugInput *string
	// Start time in Unix nanoseconds
	TimeStart *int64
	// End time in Unix nanoseconds
	TimeEnd *int64
	// Deployment ID filter
	DeploymentID *string
	// Function ID filter
	FunctionID *string
	// Cursor for pagination (trace ID)
	Cursor *string
	// Number of items to return (1-1000)
	Limit int
	// Sort order
	Sort string
}

// ListTracesResult is the result type of the logs service listTraces method.
type ListTracesResult struct {
	// List of trace summaries
	Traces []*TraceSummaryRecord
	// Cursor for next page (trace ID)
	NextCursor *string
}

// Pagination metadata for list responses
type PaginationResponse struct {
	// Number of items per page
	PerPage *int
	// Whether there is a next page
	HasNextPage *bool
	// Cursor for next page
	NextPageCursor *string
}

// Service information
type ServiceInfo struct {
	// Service name
	Name string
	// Service version
	Version *string
}

// OpenTelemetry log record
type TelemetryLogRecord struct {
	// Log record ID
	ID string
	// Unix time in nanoseconds when event occurred
	TimeUnixNano int64
	// Unix time in nanoseconds when event was observed
	ObservedTimeUnixNano int64
	// Text representation of severity
	SeverityText *string
	// The primary log message
	Body string
	// W3C trace ID (32 hex characters)
	TraceID *string
	// W3C span ID (16 hex characters)
	SpanID *string
	// Log attributes as JSON object
	Attributes any
	// Resource attributes as JSON object
	ResourceAttributes any
	// Service information
	Service *ServiceInfo
}

// Structured log entry from a tool execution
type ToolExecutionLog struct {
	// Log entry ID
	ID string
	// Timestamp of the log entry
	Timestamp string
	// Instance identifier
	Instance string
	// Log level
	Level string
	// Log source
	Source string
	// Raw log message
	RawLog string
	// Parsed log message
	Message *string
	// JSON-encoded log attributes
	Attributes *string
	// Project UUID
	ProjectID string
	// Deployment UUID
	DeploymentID string
	// Function UUID
	FunctionID string
}

// Type of tool being logged
type ToolType string

// Summary information for a distributed trace
type TraceSummaryRecord struct {
	// Trace ID (32 hex characters)
	TraceID string
	// Earliest log timestamp in Unix nanoseconds
	StartTimeUnixNano int64
	// Total number of logs in this trace
	LogCount uint64
	// HTTP status code (if applicable)
	HTTPStatusCode *int32
	// Gram URN associated with this trace
	GramUrn string
}

// MakeUnauthorized builds a goa.ServiceError from an error.
func MakeUnauthorized(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "unauthorized", false, false, false)
}

// MakeForbidden builds a goa.ServiceError from an error.
func MakeForbidden(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "forbidden", false, false, false)
}

// MakeBadRequest builds a goa.ServiceError from an error.
func MakeBadRequest(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "bad_request", false, false, false)
}

// MakeNotFound builds a goa.ServiceError from an error.
func MakeNotFound(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "not_found", false, false, false)
}

// MakeConflict builds a goa.ServiceError from an error.
func MakeConflict(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "conflict", false, false, false)
}

// MakeUnsupportedMedia builds a goa.ServiceError from an error.
func MakeUnsupportedMedia(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "unsupported_media", false, false, false)
}

// MakeInvalid builds a goa.ServiceError from an error.
func MakeInvalid(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "invalid", false, false, false)
}

// MakeInvariantViolation builds a goa.ServiceError from an error.
func MakeInvariantViolation(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "invariant_violation", false, false, true)
}

// MakeUnexpected builds a goa.ServiceError from an error.
func MakeUnexpected(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "unexpected", false, false, true)
}

// MakeGatewayError builds a goa.ServiceError from an error.
func MakeGatewayError(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "gateway_error", false, false, true)
}
