// Code generated by goa v3.24.1, DO NOT EDIT.
//
// deployments HTTP client CLI support package
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/server/design

package client

import (
	"encoding/json"
	"fmt"

	deployments "github.com/speakeasy-api/gram/server/gen/deployments"
	goa "goa.design/goa/v3/pkg"
)

// BuildGetDeploymentPayload builds the payload for the deployments
// getDeployment endpoint from CLI flags.
func BuildGetDeploymentPayload(deploymentsGetDeploymentID string, deploymentsGetDeploymentApikeyToken string, deploymentsGetDeploymentSessionToken string, deploymentsGetDeploymentProjectSlugInput string) (*deployments.GetDeploymentPayload, error) {
	var id string
	{
		id = deploymentsGetDeploymentID
	}
	var apikeyToken *string
	{
		if deploymentsGetDeploymentApikeyToken != "" {
			apikeyToken = &deploymentsGetDeploymentApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsGetDeploymentSessionToken != "" {
			sessionToken = &deploymentsGetDeploymentSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsGetDeploymentProjectSlugInput != "" {
			projectSlugInput = &deploymentsGetDeploymentProjectSlugInput
		}
	}
	v := &deployments.GetDeploymentPayload{}
	v.ID = id
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildGetLatestDeploymentPayload builds the payload for the deployments
// getLatestDeployment endpoint from CLI flags.
func BuildGetLatestDeploymentPayload(deploymentsGetLatestDeploymentApikeyToken string, deploymentsGetLatestDeploymentSessionToken string, deploymentsGetLatestDeploymentProjectSlugInput string) (*deployments.GetLatestDeploymentPayload, error) {
	var apikeyToken *string
	{
		if deploymentsGetLatestDeploymentApikeyToken != "" {
			apikeyToken = &deploymentsGetLatestDeploymentApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsGetLatestDeploymentSessionToken != "" {
			sessionToken = &deploymentsGetLatestDeploymentSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsGetLatestDeploymentProjectSlugInput != "" {
			projectSlugInput = &deploymentsGetLatestDeploymentProjectSlugInput
		}
	}
	v := &deployments.GetLatestDeploymentPayload{}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildGetActiveDeploymentPayload builds the payload for the deployments
// getActiveDeployment endpoint from CLI flags.
func BuildGetActiveDeploymentPayload(deploymentsGetActiveDeploymentApikeyToken string, deploymentsGetActiveDeploymentSessionToken string, deploymentsGetActiveDeploymentProjectSlugInput string) (*deployments.GetActiveDeploymentPayload, error) {
	var apikeyToken *string
	{
		if deploymentsGetActiveDeploymentApikeyToken != "" {
			apikeyToken = &deploymentsGetActiveDeploymentApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsGetActiveDeploymentSessionToken != "" {
			sessionToken = &deploymentsGetActiveDeploymentSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsGetActiveDeploymentProjectSlugInput != "" {
			projectSlugInput = &deploymentsGetActiveDeploymentProjectSlugInput
		}
	}
	v := &deployments.GetActiveDeploymentPayload{}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildCreateDeploymentPayload builds the payload for the deployments
// createDeployment endpoint from CLI flags.
func BuildCreateDeploymentPayload(deploymentsCreateDeploymentBody string, deploymentsCreateDeploymentApikeyToken string, deploymentsCreateDeploymentSessionToken string, deploymentsCreateDeploymentProjectSlugInput string, deploymentsCreateDeploymentIdempotencyKey string) (*deployments.CreateDeploymentPayload, error) {
	var err error
	var body CreateDeploymentRequestBody
	{
		err = json.Unmarshal([]byte(deploymentsCreateDeploymentBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"external_id\": \"bc5f4a555e933e6861d12edba4c2d87ef6caf8e6\",\n      \"external_mcps\": [\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         },\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         },\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         },\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         }\n      ],\n      \"external_url\": \"Laborum hic aut modi alias.\",\n      \"functions\": [\n         {\n            \"asset_id\": \"Qui sed quo.\",\n            \"name\": \"Iure earum atque alias non voluptates.\",\n            \"runtime\": \"Est voluptatibus ipsa.\",\n            \"slug\": \"agt\"\n         },\n         {\n            \"asset_id\": \"Qui sed quo.\",\n            \"name\": \"Iure earum atque alias non voluptates.\",\n            \"runtime\": \"Est voluptatibus ipsa.\",\n            \"slug\": \"agt\"\n         }\n      ],\n      \"github_pr\": \"1234\",\n      \"github_repo\": \"speakeasyapi/gram\",\n      \"github_sha\": \"f33e693e9e12552043bc0ec5c37f1b8a9e076161\",\n      \"non_blocking\": false,\n      \"openapiv3_assets\": [\n         {\n            \"asset_id\": \"Similique temporibus.\",\n            \"name\": \"Deserunt qui.\",\n            \"slug\": \"bsl\"\n         },\n         {\n            \"asset_id\": \"Similique temporibus.\",\n            \"name\": \"Deserunt qui.\",\n            \"slug\": \"bsl\"\n         },\n         {\n            \"asset_id\": \"Similique temporibus.\",\n            \"name\": \"Deserunt qui.\",\n            \"slug\": \"bsl\"\n         }\n      ],\n      \"packages\": [\n         {\n            \"name\": \"Recusandae voluptatibus occaecati provident nostrum.\",\n            \"version\": \"Libero et aperiam.\"\n         },\n         {\n            \"name\": \"Recusandae voluptatibus occaecati provident nostrum.\",\n            \"version\": \"Libero et aperiam.\"\n         },\n         {\n            \"name\": \"Recusandae voluptatibus occaecati provident nostrum.\",\n            \"version\": \"Libero et aperiam.\"\n         },\n         {\n            \"name\": \"Recusandae voluptatibus occaecati provident nostrum.\",\n            \"version\": \"Libero et aperiam.\"\n         }\n      ]\n   }'")
		}
		for _, e := range body.Openapiv3Assets {
			if e != nil {
				if err2 := ValidateAddOpenAPIv3DeploymentAssetFormRequestBody(e); err2 != nil {
					err = goa.MergeErrors(err, err2)
				}
			}
		}
		for _, e := range body.Functions {
			if e != nil {
				if err2 := ValidateAddFunctionsFormRequestBody(e); err2 != nil {
					err = goa.MergeErrors(err, err2)
				}
			}
		}
		for _, e := range body.ExternalMcps {
			if e != nil {
				if err2 := ValidateAddExternalMCPFormRequestBody(e); err2 != nil {
					err = goa.MergeErrors(err, err2)
				}
			}
		}
		if err != nil {
			return nil, err
		}
	}
	var apikeyToken *string
	{
		if deploymentsCreateDeploymentApikeyToken != "" {
			apikeyToken = &deploymentsCreateDeploymentApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsCreateDeploymentSessionToken != "" {
			sessionToken = &deploymentsCreateDeploymentSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsCreateDeploymentProjectSlugInput != "" {
			projectSlugInput = &deploymentsCreateDeploymentProjectSlugInput
		}
	}
	var idempotencyKey string
	{
		idempotencyKey = deploymentsCreateDeploymentIdempotencyKey
	}
	v := &deployments.CreateDeploymentPayload{
		NonBlocking: body.NonBlocking,
		GithubRepo:  body.GithubRepo,
		GithubPr:    body.GithubPr,
		GithubSha:   body.GithubSha,
		ExternalID:  body.ExternalID,
		ExternalURL: body.ExternalURL,
	}
	if body.Openapiv3Assets != nil {
		v.Openapiv3Assets = make([]*deployments.AddOpenAPIv3DeploymentAssetForm, len(body.Openapiv3Assets))
		for i, val := range body.Openapiv3Assets {
			if val == nil {
				v.Openapiv3Assets[i] = nil
				continue
			}
			v.Openapiv3Assets[i] = marshalAddOpenAPIv3DeploymentAssetFormRequestBodyToDeploymentsAddOpenAPIv3DeploymentAssetForm(val)
		}
	}
	if body.Functions != nil {
		v.Functions = make([]*deployments.AddFunctionsForm, len(body.Functions))
		for i, val := range body.Functions {
			if val == nil {
				v.Functions[i] = nil
				continue
			}
			v.Functions[i] = marshalAddFunctionsFormRequestBodyToDeploymentsAddFunctionsForm(val)
		}
	}
	if body.Packages != nil {
		v.Packages = make([]*deployments.AddDeploymentPackageForm, len(body.Packages))
		for i, val := range body.Packages {
			if val == nil {
				v.Packages[i] = nil
				continue
			}
			v.Packages[i] = marshalAddDeploymentPackageFormRequestBodyToDeploymentsAddDeploymentPackageForm(val)
		}
	}
	if body.ExternalMcps != nil {
		v.ExternalMcps = make([]*deployments.AddExternalMCPForm, len(body.ExternalMcps))
		for i, val := range body.ExternalMcps {
			if val == nil {
				v.ExternalMcps[i] = nil
				continue
			}
			v.ExternalMcps[i] = marshalAddExternalMCPFormRequestBodyToDeploymentsAddExternalMCPForm(val)
		}
	}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput
	v.IdempotencyKey = idempotencyKey

	return v, nil
}

// BuildEvolvePayload builds the payload for the deployments evolve endpoint
// from CLI flags.
func BuildEvolvePayload(deploymentsEvolveBody string, deploymentsEvolveApikeyToken string, deploymentsEvolveSessionToken string, deploymentsEvolveProjectSlugInput string) (*deployments.EvolvePayload, error) {
	var err error
	var body EvolveRequestBody
	{
		err = json.Unmarshal([]byte(deploymentsEvolveBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"deployment_id\": \"Officiis aut tenetur quis pariatur ipsum.\",\n      \"exclude_external_mcps\": [\n         \"Voluptatem molestias dolore ducimus reiciendis sed nostrum.\",\n         \"Sit aperiam repellat.\",\n         \"Earum aut sapiente est et voluptas.\"\n      ],\n      \"exclude_functions\": [\n         \"Tempora et facilis impedit deserunt.\",\n         \"Sed voluptas pariatur error excepturi quia est.\"\n      ],\n      \"exclude_openapiv3_assets\": [\n         \"Voluptate voluptas illum sint perferendis eius.\",\n         \"Qui inventore ea eum.\",\n         \"Inventore tempora quos sed aut.\",\n         \"Iure in quis.\"\n      ],\n      \"exclude_packages\": [\n         \"At magnam unde et sed cumque quo.\",\n         \"Laborum nulla asperiores.\"\n      ],\n      \"non_blocking\": false,\n      \"upsert_external_mcps\": [\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         },\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         },\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         },\n         {\n            \"name\": \"My Slack Integration\",\n            \"registry_id\": \"126f32c3-d430-42bd-9000-711c5df22757\",\n            \"registry_server_specifier\": \"slack\",\n            \"slug\": \"um7\"\n         }\n      ],\n      \"upsert_functions\": [\n         {\n            \"asset_id\": \"Qui sed quo.\",\n            \"name\": \"Iure earum atque alias non voluptates.\",\n            \"runtime\": \"Est voluptatibus ipsa.\",\n            \"slug\": \"agt\"\n         },\n         {\n            \"asset_id\": \"Qui sed quo.\",\n            \"name\": \"Iure earum atque alias non voluptates.\",\n            \"runtime\": \"Est voluptatibus ipsa.\",\n            \"slug\": \"agt\"\n         },\n         {\n            \"asset_id\": \"Qui sed quo.\",\n            \"name\": \"Iure earum atque alias non voluptates.\",\n            \"runtime\": \"Est voluptatibus ipsa.\",\n            \"slug\": \"agt\"\n         },\n         {\n            \"asset_id\": \"Qui sed quo.\",\n            \"name\": \"Iure earum atque alias non voluptates.\",\n            \"runtime\": \"Est voluptatibus ipsa.\",\n            \"slug\": \"agt\"\n         }\n      ],\n      \"upsert_openapiv3_assets\": [\n         {\n            \"asset_id\": \"Similique temporibus.\",\n            \"name\": \"Deserunt qui.\",\n            \"slug\": \"bsl\"\n         },\n         {\n            \"asset_id\": \"Similique temporibus.\",\n            \"name\": \"Deserunt qui.\",\n            \"slug\": \"bsl\"\n         },\n         {\n            \"asset_id\": \"Similique temporibus.\",\n            \"name\": \"Deserunt qui.\",\n            \"slug\": \"bsl\"\n         },\n         {\n            \"asset_id\": \"Similique temporibus.\",\n            \"name\": \"Deserunt qui.\",\n            \"slug\": \"bsl\"\n         }\n      ],\n      \"upsert_packages\": [\n         {\n            \"name\": \"Ut repellendus iure sed voluptate rem inventore.\",\n            \"version\": \"Fugiat quo.\"\n         },\n         {\n            \"name\": \"Ut repellendus iure sed voluptate rem inventore.\",\n            \"version\": \"Fugiat quo.\"\n         }\n      ]\n   }'")
		}
	}
	var apikeyToken *string
	{
		if deploymentsEvolveApikeyToken != "" {
			apikeyToken = &deploymentsEvolveApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsEvolveSessionToken != "" {
			sessionToken = &deploymentsEvolveSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsEvolveProjectSlugInput != "" {
			projectSlugInput = &deploymentsEvolveProjectSlugInput
		}
	}
	v := &deployments.EvolvePayload{
		DeploymentID: body.DeploymentID,
		NonBlocking:  body.NonBlocking,
	}
	if body.UpsertOpenapiv3Assets != nil {
		v.UpsertOpenapiv3Assets = make([]*deployments.AddOpenAPIv3DeploymentAssetForm, len(body.UpsertOpenapiv3Assets))
		for i, val := range body.UpsertOpenapiv3Assets {
			if val == nil {
				v.UpsertOpenapiv3Assets[i] = nil
				continue
			}
			v.UpsertOpenapiv3Assets[i] = marshalAddOpenAPIv3DeploymentAssetFormRequestBodyToDeploymentsAddOpenAPIv3DeploymentAssetForm(val)
		}
	}
	if body.UpsertPackages != nil {
		v.UpsertPackages = make([]*deployments.AddPackageForm, len(body.UpsertPackages))
		for i, val := range body.UpsertPackages {
			if val == nil {
				v.UpsertPackages[i] = nil
				continue
			}
			v.UpsertPackages[i] = marshalAddPackageFormRequestBodyToDeploymentsAddPackageForm(val)
		}
	}
	if body.UpsertFunctions != nil {
		v.UpsertFunctions = make([]*deployments.AddFunctionsForm, len(body.UpsertFunctions))
		for i, val := range body.UpsertFunctions {
			if val == nil {
				v.UpsertFunctions[i] = nil
				continue
			}
			v.UpsertFunctions[i] = marshalAddFunctionsFormRequestBodyToDeploymentsAddFunctionsForm(val)
		}
	}
	if body.UpsertExternalMcps != nil {
		v.UpsertExternalMcps = make([]*deployments.AddExternalMCPForm, len(body.UpsertExternalMcps))
		for i, val := range body.UpsertExternalMcps {
			if val == nil {
				v.UpsertExternalMcps[i] = nil
				continue
			}
			v.UpsertExternalMcps[i] = marshalAddExternalMCPFormRequestBodyToDeploymentsAddExternalMCPForm(val)
		}
	}
	if body.ExcludeOpenapiv3Assets != nil {
		v.ExcludeOpenapiv3Assets = make([]string, len(body.ExcludeOpenapiv3Assets))
		for i, val := range body.ExcludeOpenapiv3Assets {
			v.ExcludeOpenapiv3Assets[i] = val
		}
	}
	if body.ExcludePackages != nil {
		v.ExcludePackages = make([]string, len(body.ExcludePackages))
		for i, val := range body.ExcludePackages {
			v.ExcludePackages[i] = val
		}
	}
	if body.ExcludeFunctions != nil {
		v.ExcludeFunctions = make([]string, len(body.ExcludeFunctions))
		for i, val := range body.ExcludeFunctions {
			v.ExcludeFunctions[i] = val
		}
	}
	if body.ExcludeExternalMcps != nil {
		v.ExcludeExternalMcps = make([]string, len(body.ExcludeExternalMcps))
		for i, val := range body.ExcludeExternalMcps {
			v.ExcludeExternalMcps[i] = val
		}
	}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildRedeployPayload builds the payload for the deployments redeploy
// endpoint from CLI flags.
func BuildRedeployPayload(deploymentsRedeployBody string, deploymentsRedeployApikeyToken string, deploymentsRedeploySessionToken string, deploymentsRedeployProjectSlugInput string) (*deployments.RedeployPayload, error) {
	var err error
	var body RedeployRequestBody
	{
		err = json.Unmarshal([]byte(deploymentsRedeployBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"deployment_id\": \"Perspiciatis consequatur aut.\"\n   }'")
		}
	}
	var apikeyToken *string
	{
		if deploymentsRedeployApikeyToken != "" {
			apikeyToken = &deploymentsRedeployApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsRedeploySessionToken != "" {
			sessionToken = &deploymentsRedeploySessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsRedeployProjectSlugInput != "" {
			projectSlugInput = &deploymentsRedeployProjectSlugInput
		}
	}
	v := &deployments.RedeployPayload{
		DeploymentID: body.DeploymentID,
	}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildListDeploymentsPayload builds the payload for the deployments
// listDeployments endpoint from CLI flags.
func BuildListDeploymentsPayload(deploymentsListDeploymentsCursor string, deploymentsListDeploymentsApikeyToken string, deploymentsListDeploymentsSessionToken string, deploymentsListDeploymentsProjectSlugInput string) (*deployments.ListDeploymentsPayload, error) {
	var cursor *string
	{
		if deploymentsListDeploymentsCursor != "" {
			cursor = &deploymentsListDeploymentsCursor
		}
	}
	var apikeyToken *string
	{
		if deploymentsListDeploymentsApikeyToken != "" {
			apikeyToken = &deploymentsListDeploymentsApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsListDeploymentsSessionToken != "" {
			sessionToken = &deploymentsListDeploymentsSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsListDeploymentsProjectSlugInput != "" {
			projectSlugInput = &deploymentsListDeploymentsProjectSlugInput
		}
	}
	v := &deployments.ListDeploymentsPayload{}
	v.Cursor = cursor
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildGetDeploymentLogsPayload builds the payload for the deployments
// getDeploymentLogs endpoint from CLI flags.
func BuildGetDeploymentLogsPayload(deploymentsGetDeploymentLogsDeploymentID string, deploymentsGetDeploymentLogsCursor string, deploymentsGetDeploymentLogsApikeyToken string, deploymentsGetDeploymentLogsSessionToken string, deploymentsGetDeploymentLogsProjectSlugInput string) (*deployments.GetDeploymentLogsPayload, error) {
	var deploymentID string
	{
		deploymentID = deploymentsGetDeploymentLogsDeploymentID
	}
	var cursor *string
	{
		if deploymentsGetDeploymentLogsCursor != "" {
			cursor = &deploymentsGetDeploymentLogsCursor
		}
	}
	var apikeyToken *string
	{
		if deploymentsGetDeploymentLogsApikeyToken != "" {
			apikeyToken = &deploymentsGetDeploymentLogsApikeyToken
		}
	}
	var sessionToken *string
	{
		if deploymentsGetDeploymentLogsSessionToken != "" {
			sessionToken = &deploymentsGetDeploymentLogsSessionToken
		}
	}
	var projectSlugInput *string
	{
		if deploymentsGetDeploymentLogsProjectSlugInput != "" {
			projectSlugInput = &deploymentsGetDeploymentLogsProjectSlugInput
		}
	}
	v := &deployments.GetDeploymentLogsPayload{}
	v.DeploymentID = deploymentID
	v.Cursor = cursor
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}
