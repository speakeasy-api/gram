// Code generated by goa v3.24.1, DO NOT EDIT.
//
// chatSessions HTTP client CLI support package
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/server/design

package client

import (
	"encoding/json"
	"fmt"

	chatsessions "github.com/speakeasy-api/gram/server/gen/chat_sessions"
	goa "goa.design/goa/v3/pkg"
)

// BuildCreatePayload builds the payload for the chatSessions create endpoint
// from CLI flags.
func BuildCreatePayload(chatSessionsCreateBody string, chatSessionsCreateSessionToken string, chatSessionsCreateApikeyToken string, chatSessionsCreateProjectSlugInput string) (*chatsessions.CreatePayload, error) {
	var err error
	var body CreateRequestBody
	{
		err = json.Unmarshal([]byte(chatSessionsCreateBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"embed_origin\": \"Suscipit fuga porro ipsa quo placeat.\",\n      \"expires_after\": 2436,\n      \"user_identifier\": \"Sit pariatur sit provident quia minus.\"\n   }'")
		}
		if body.ExpiresAfter < 1 {
			err = goa.MergeErrors(err, goa.InvalidRangeError("body.expires_after", body.ExpiresAfter, 1, true))
		}
		if body.ExpiresAfter > 3600 {
			err = goa.MergeErrors(err, goa.InvalidRangeError("body.expires_after", body.ExpiresAfter, 3600, false))
		}
		if err != nil {
			return nil, err
		}
	}
	var sessionToken *string
	{
		if chatSessionsCreateSessionToken != "" {
			sessionToken = &chatSessionsCreateSessionToken
		}
	}
	var apikeyToken *string
	{
		if chatSessionsCreateApikeyToken != "" {
			apikeyToken = &chatSessionsCreateApikeyToken
		}
	}
	var projectSlugInput *string
	{
		if chatSessionsCreateProjectSlugInput != "" {
			projectSlugInput = &chatSessionsCreateProjectSlugInput
		}
	}
	v := &chatsessions.CreatePayload{
		UserIdentifier: body.UserIdentifier,
		EmbedOrigin:    body.EmbedOrigin,
		ExpiresAfter:   body.ExpiresAfter,
	}
	{
		var zero int
		if v.ExpiresAfter == zero {
			v.ExpiresAfter = 3600
		}
	}
	v.SessionToken = sessionToken
	v.ApikeyToken = apikeyToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildRevokePayload builds the payload for the chatSessions revoke endpoint
// from CLI flags.
func BuildRevokePayload(chatSessionsRevokeToken string, chatSessionsRevokeSessionToken string, chatSessionsRevokeApikeyToken string, chatSessionsRevokeProjectSlugInput string) (*chatsessions.RevokePayload, error) {
	var token string
	{
		token = chatSessionsRevokeToken
	}
	var sessionToken *string
	{
		if chatSessionsRevokeSessionToken != "" {
			sessionToken = &chatSessionsRevokeSessionToken
		}
	}
	var apikeyToken *string
	{
		if chatSessionsRevokeApikeyToken != "" {
			apikeyToken = &chatSessionsRevokeApikeyToken
		}
	}
	var projectSlugInput *string
	{
		if chatSessionsRevokeProjectSlugInput != "" {
			projectSlugInput = &chatSessionsRevokeProjectSlugInput
		}
	}
	v := &chatsessions.RevokePayload{}
	v.Token = token
	v.SessionToken = sessionToken
	v.ApikeyToken = apikeyToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}
