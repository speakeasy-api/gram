// Code generated by goa v3.23.4, DO NOT EDIT.
//
// telemetry HTTP client CLI support package
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/server/design

package client

import (
	"encoding/json"
	"fmt"

	telemetry "github.com/speakeasy-api/gram/server/gen/telemetry"
)

// BuildSearchLogsPayload builds the payload for the telemetry searchLogs
// endpoint from CLI flags.
func BuildSearchLogsPayload(telemetrySearchLogsBody string, telemetrySearchLogsApikeyToken string, telemetrySearchLogsSessionToken string, telemetrySearchLogsProjectSlugInput string) (*telemetry.SearchLogsPayload, error) {
	var err error
	var body SearchLogsRequestBody
	{
		err = json.Unmarshal([]byte(telemetrySearchLogsBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"cursor\": \"Distinctio nemo tempore molestiae molestiae.\",\n      \"filter\": {\n         \"deployment_id\": \"d9e612d4-272f-40db-a79a-da577420ef16\",\n         \"from\": \"2025-12-19T10:00:00Z\",\n         \"function_id\": \"b828fc24-ad2d-4be8-978c-0a500fc35009\",\n         \"gram_urn\": \"Ea enim provident laudantium optio soluta aperiam.\",\n         \"gram_urns\": [\n            \"Dicta sit deleniti ut eos.\",\n            \"Odit distinctio.\",\n            \"Id ex repellat nemo.\",\n            \"Aut possimus molestias veniam.\"\n         ],\n         \"http_method\": \"HEAD\",\n         \"http_route\": \"Ab sunt qui quam.\",\n         \"http_status_code\": 742445228,\n         \"service_name\": \"Repudiandae temporibus repudiandae quae ut dolorum minima.\",\n         \"severity_text\": \"WARN\",\n         \"to\": \"2025-12-19T11:00:00Z\",\n         \"trace_id\": \"b5fda633503c464fe145b419cb787422\"\n      },\n      \"limit\": 399,\n      \"sort\": \"asc\"\n   }'")
		}
	}
	var apikeyToken *string
	{
		if telemetrySearchLogsApikeyToken != "" {
			apikeyToken = &telemetrySearchLogsApikeyToken
		}
	}
	var sessionToken *string
	{
		if telemetrySearchLogsSessionToken != "" {
			sessionToken = &telemetrySearchLogsSessionToken
		}
	}
	var projectSlugInput *string
	{
		if telemetrySearchLogsProjectSlugInput != "" {
			projectSlugInput = &telemetrySearchLogsProjectSlugInput
		}
	}
	v := &telemetry.SearchLogsPayload{
		Cursor: body.Cursor,
		Sort:   body.Sort,
		Limit:  body.Limit,
	}
	if body.Filter != nil {
		v.Filter = marshalSearchLogsFilterRequestBodyToTelemetrySearchLogsFilter(body.Filter)
	}
	{
		var zero string
		if v.Sort == zero {
			v.Sort = "desc"
		}
	}
	{
		var zero int
		if v.Limit == zero {
			v.Limit = 50
		}
	}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildSearchToolCallsPayload builds the payload for the telemetry
// searchToolCalls endpoint from CLI flags.
func BuildSearchToolCallsPayload(telemetrySearchToolCallsBody string, telemetrySearchToolCallsApikeyToken string, telemetrySearchToolCallsSessionToken string, telemetrySearchToolCallsProjectSlugInput string) (*telemetry.SearchToolCallsPayload, error) {
	var err error
	var body SearchToolCallsRequestBody
	{
		err = json.Unmarshal([]byte(telemetrySearchToolCallsBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"cursor\": \"Qui a rerum quam.\",\n      \"filter\": {\n         \"deployment_id\": \"ccc2a6f8-9aff-42ea-b298-dec3c0aaf9ab\",\n         \"from\": \"2025-12-19T10:00:00Z\",\n         \"function_id\": \"368d418c-9669-4ec1-ae98-bede6be1ddf7\",\n         \"gram_urn\": \"Rerum nobis ea sapiente.\",\n         \"to\": \"2025-12-19T11:00:00Z\"\n      },\n      \"limit\": 34,\n      \"sort\": \"desc\"\n   }'")
		}
	}
	var apikeyToken *string
	{
		if telemetrySearchToolCallsApikeyToken != "" {
			apikeyToken = &telemetrySearchToolCallsApikeyToken
		}
	}
	var sessionToken *string
	{
		if telemetrySearchToolCallsSessionToken != "" {
			sessionToken = &telemetrySearchToolCallsSessionToken
		}
	}
	var projectSlugInput *string
	{
		if telemetrySearchToolCallsProjectSlugInput != "" {
			projectSlugInput = &telemetrySearchToolCallsProjectSlugInput
		}
	}
	v := &telemetry.SearchToolCallsPayload{
		Cursor: body.Cursor,
		Sort:   body.Sort,
		Limit:  body.Limit,
	}
	if body.Filter != nil {
		v.Filter = marshalSearchToolCallsFilterRequestBodyToTelemetrySearchToolCallsFilter(body.Filter)
	}
	{
		var zero string
		if v.Sort == zero {
			v.Sort = "desc"
		}
	}
	{
		var zero int
		if v.Limit == zero {
			v.Limit = 50
		}
	}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}
