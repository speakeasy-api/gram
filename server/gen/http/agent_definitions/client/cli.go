// Code generated by goa v3.24.2, DO NOT EDIT.
//
// agent_definitions HTTP client CLI support package
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/server/design

package client

import (
	"encoding/json"
	"fmt"
	"unicode/utf8"

	agentdefinitions "github.com/speakeasy-api/gram/server/gen/agent_definitions"
	types "github.com/speakeasy-api/gram/server/gen/types"
	goa "goa.design/goa/v3/pkg"
)

// BuildCreateAgentDefinitionPayload builds the payload for the
// agent_definitions createAgentDefinition endpoint from CLI flags.
func BuildCreateAgentDefinitionPayload(agentDefinitionsCreateAgentDefinitionBody string, agentDefinitionsCreateAgentDefinitionApikeyToken string, agentDefinitionsCreateAgentDefinitionSessionToken string, agentDefinitionsCreateAgentDefinitionProjectSlugInput string) (*agentdefinitions.CreateAgentDefinitionPayload, error) {
	var err error
	var body CreateAgentDefinitionRequestBody
	{
		err = json.Unmarshal([]byte(agentDefinitionsCreateAgentDefinitionBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"description\": \"aaa\",\n      \"instruction\": \"abc123\",\n      \"model\": \"aaa\",\n      \"name\": \"aaa\",\n      \"title\": \"aaa\",\n      \"tools\": [\n         \"abc123\"\n      ]\n   }'")
		}
		err = goa.MergeErrors(err, goa.ValidatePattern("body.name", body.Name, "^[a-z0-9_-]{1,128}$"))
		if utf8.RuneCountInString(body.Name) > 40 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.name", body.Name, utf8.RuneCountInString(body.Name), 40, false))
		}
		if utf8.RuneCountInString(body.Model) > 100 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.model", body.Model, utf8.RuneCountInString(body.Model), 100, false))
		}
		if body.Title != nil {
			if utf8.RuneCountInString(*body.Title) > 200 {
				err = goa.MergeErrors(err, goa.InvalidLengthError("body.title", *body.Title, utf8.RuneCountInString(*body.Title), 200, false))
			}
		}
		if utf8.RuneCountInString(body.Description) > 1000 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.description", body.Description, utf8.RuneCountInString(body.Description), 1000, false))
		}
		if err != nil {
			return nil, err
		}
	}
	var apikeyToken *string
	{
		if agentDefinitionsCreateAgentDefinitionApikeyToken != "" {
			apikeyToken = &agentDefinitionsCreateAgentDefinitionApikeyToken
		}
	}
	var sessionToken *string
	{
		if agentDefinitionsCreateAgentDefinitionSessionToken != "" {
			sessionToken = &agentDefinitionsCreateAgentDefinitionSessionToken
		}
	}
	var projectSlugInput *string
	{
		if agentDefinitionsCreateAgentDefinitionProjectSlugInput != "" {
			projectSlugInput = &agentDefinitionsCreateAgentDefinitionProjectSlugInput
		}
	}
	v := &agentdefinitions.CreateAgentDefinitionPayload{
		Name:        types.Slug(body.Name),
		Model:       body.Model,
		Title:       body.Title,
		Description: body.Description,
		Instruction: body.Instruction,
	}
	if body.Tools != nil {
		v.Tools = make([]string, len(body.Tools))
		for i, val := range body.Tools {
			v.Tools[i] = val
		}
	}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildGetAgentDefinitionPayload builds the payload for the agent_definitions
// getAgentDefinition endpoint from CLI flags.
func BuildGetAgentDefinitionPayload(agentDefinitionsGetAgentDefinitionID string, agentDefinitionsGetAgentDefinitionApikeyToken string, agentDefinitionsGetAgentDefinitionSessionToken string, agentDefinitionsGetAgentDefinitionProjectSlugInput string) (*agentdefinitions.GetAgentDefinitionPayload, error) {
	var id string
	{
		id = agentDefinitionsGetAgentDefinitionID
	}
	var apikeyToken *string
	{
		if agentDefinitionsGetAgentDefinitionApikeyToken != "" {
			apikeyToken = &agentDefinitionsGetAgentDefinitionApikeyToken
		}
	}
	var sessionToken *string
	{
		if agentDefinitionsGetAgentDefinitionSessionToken != "" {
			sessionToken = &agentDefinitionsGetAgentDefinitionSessionToken
		}
	}
	var projectSlugInput *string
	{
		if agentDefinitionsGetAgentDefinitionProjectSlugInput != "" {
			projectSlugInput = &agentDefinitionsGetAgentDefinitionProjectSlugInput
		}
	}
	v := &agentdefinitions.GetAgentDefinitionPayload{}
	v.ID = id
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildListAgentDefinitionsPayload builds the payload for the
// agent_definitions listAgentDefinitions endpoint from CLI flags.
func BuildListAgentDefinitionsPayload(agentDefinitionsListAgentDefinitionsApikeyToken string, agentDefinitionsListAgentDefinitionsSessionToken string, agentDefinitionsListAgentDefinitionsProjectSlugInput string) (*agentdefinitions.ListAgentDefinitionsPayload, error) {
	var apikeyToken *string
	{
		if agentDefinitionsListAgentDefinitionsApikeyToken != "" {
			apikeyToken = &agentDefinitionsListAgentDefinitionsApikeyToken
		}
	}
	var sessionToken *string
	{
		if agentDefinitionsListAgentDefinitionsSessionToken != "" {
			sessionToken = &agentDefinitionsListAgentDefinitionsSessionToken
		}
	}
	var projectSlugInput *string
	{
		if agentDefinitionsListAgentDefinitionsProjectSlugInput != "" {
			projectSlugInput = &agentDefinitionsListAgentDefinitionsProjectSlugInput
		}
	}
	v := &agentdefinitions.ListAgentDefinitionsPayload{}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildUpdateAgentDefinitionPayload builds the payload for the
// agent_definitions updateAgentDefinition endpoint from CLI flags.
func BuildUpdateAgentDefinitionPayload(agentDefinitionsUpdateAgentDefinitionBody string, agentDefinitionsUpdateAgentDefinitionApikeyToken string, agentDefinitionsUpdateAgentDefinitionSessionToken string, agentDefinitionsUpdateAgentDefinitionProjectSlugInput string) (*agentdefinitions.UpdateAgentDefinitionPayload, error) {
	var err error
	var body UpdateAgentDefinitionRequestBody
	{
		err = json.Unmarshal([]byte(agentDefinitionsUpdateAgentDefinitionBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"description\": \"aaa\",\n      \"id\": \"abc123\",\n      \"instruction\": \"abc123\",\n      \"model\": \"aaa\",\n      \"title\": \"aaa\",\n      \"tools\": [\n         \"abc123\"\n      ]\n   }'")
		}
		if body.Model != nil {
			if utf8.RuneCountInString(*body.Model) > 100 {
				err = goa.MergeErrors(err, goa.InvalidLengthError("body.model", *body.Model, utf8.RuneCountInString(*body.Model), 100, false))
			}
		}
		if body.Title != nil {
			if utf8.RuneCountInString(*body.Title) > 200 {
				err = goa.MergeErrors(err, goa.InvalidLengthError("body.title", *body.Title, utf8.RuneCountInString(*body.Title), 200, false))
			}
		}
		if body.Description != nil {
			if utf8.RuneCountInString(*body.Description) > 1000 {
				err = goa.MergeErrors(err, goa.InvalidLengthError("body.description", *body.Description, utf8.RuneCountInString(*body.Description), 1000, false))
			}
		}
		if err != nil {
			return nil, err
		}
	}
	var apikeyToken *string
	{
		if agentDefinitionsUpdateAgentDefinitionApikeyToken != "" {
			apikeyToken = &agentDefinitionsUpdateAgentDefinitionApikeyToken
		}
	}
	var sessionToken *string
	{
		if agentDefinitionsUpdateAgentDefinitionSessionToken != "" {
			sessionToken = &agentDefinitionsUpdateAgentDefinitionSessionToken
		}
	}
	var projectSlugInput *string
	{
		if agentDefinitionsUpdateAgentDefinitionProjectSlugInput != "" {
			projectSlugInput = &agentDefinitionsUpdateAgentDefinitionProjectSlugInput
		}
	}
	v := &agentdefinitions.UpdateAgentDefinitionPayload{
		ID:          body.ID,
		Model:       body.Model,
		Title:       body.Title,
		Description: body.Description,
		Instruction: body.Instruction,
	}
	if body.Tools != nil {
		v.Tools = make([]string, len(body.Tools))
		for i, val := range body.Tools {
			v.Tools[i] = val
		}
	}
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}

// BuildDeleteAgentDefinitionPayload builds the payload for the
// agent_definitions deleteAgentDefinition endpoint from CLI flags.
func BuildDeleteAgentDefinitionPayload(agentDefinitionsDeleteAgentDefinitionID string, agentDefinitionsDeleteAgentDefinitionApikeyToken string, agentDefinitionsDeleteAgentDefinitionSessionToken string, agentDefinitionsDeleteAgentDefinitionProjectSlugInput string) (*agentdefinitions.DeleteAgentDefinitionPayload, error) {
	var id string
	{
		id = agentDefinitionsDeleteAgentDefinitionID
	}
	var apikeyToken *string
	{
		if agentDefinitionsDeleteAgentDefinitionApikeyToken != "" {
			apikeyToken = &agentDefinitionsDeleteAgentDefinitionApikeyToken
		}
	}
	var sessionToken *string
	{
		if agentDefinitionsDeleteAgentDefinitionSessionToken != "" {
			sessionToken = &agentDefinitionsDeleteAgentDefinitionSessionToken
		}
	}
	var projectSlugInput *string
	{
		if agentDefinitionsDeleteAgentDefinitionProjectSlugInput != "" {
			projectSlugInput = &agentDefinitionsDeleteAgentDefinitionProjectSlugInput
		}
	}
	v := &agentdefinitions.DeleteAgentDefinitionPayload{}
	v.ID = id
	v.ApikeyToken = apikeyToken
	v.SessionToken = sessionToken
	v.ProjectSlugInput = projectSlugInput

	return v, nil
}
