// Code generated by goa v3.23.4, DO NOT EDIT.
//
// environments HTTP client encoders and decoders
//
// Command:
// $ goa gen github.com/speakeasy-api/gram/server/design

package client

import (
	"bytes"
	"context"
	"io"
	"net/http"
	"net/url"

	environments "github.com/speakeasy-api/gram/server/gen/environments"
	types "github.com/speakeasy-api/gram/server/gen/types"
	goahttp "goa.design/goa/v3/http"
)

// BuildCreateEnvironmentRequest instantiates a HTTP request object with method
// and path set to call the "environments" service "createEnvironment" endpoint
func (c *Client) BuildCreateEnvironmentRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: CreateEnvironmentEnvironmentsPath()}
	req, err := http.NewRequest("POST", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "createEnvironment", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeCreateEnvironmentRequest returns an encoder for requests sent to the
// environments createEnvironment server.
func EncodeCreateEnvironmentRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.CreateEnvironmentPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "createEnvironment", "*environments.CreateEnvironmentPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		body := NewCreateEnvironmentRequestBody(p)
		if err := encoder(req).Encode(&body); err != nil {
			return goahttp.ErrEncodingError("environments", "createEnvironment", err)
		}
		return nil
	}
}

// DecodeCreateEnvironmentResponse returns a decoder for responses returned by
// the environments createEnvironment endpoint. restoreBody controls whether
// the response body should be restored after having been read.
// DecodeCreateEnvironmentResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeCreateEnvironmentResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			var (
				body CreateEnvironmentResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			res := NewCreateEnvironmentEnvironmentOK(&body)
			return res, nil
		case http.StatusUnauthorized:
			var (
				body CreateEnvironmentUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body CreateEnvironmentForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentForbidden(&body)
		case http.StatusBadRequest:
			var (
				body CreateEnvironmentBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentBadRequest(&body)
		case http.StatusNotFound:
			var (
				body CreateEnvironmentNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentNotFound(&body)
		case http.StatusConflict:
			var (
				body CreateEnvironmentConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body CreateEnvironmentUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body CreateEnvironmentInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body CreateEnvironmentInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
				}
				err = ValidateCreateEnvironmentInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
				}
				return nil, NewCreateEnvironmentInvariantViolation(&body)
			case "unexpected":
				var (
					body CreateEnvironmentUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
				}
				err = ValidateCreateEnvironmentUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
				}
				return nil, NewCreateEnvironmentUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "createEnvironment", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body CreateEnvironmentGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "createEnvironment", err)
			}
			err = ValidateCreateEnvironmentGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "createEnvironment", err)
			}
			return nil, NewCreateEnvironmentGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "createEnvironment", resp.StatusCode, string(body))
		}
	}
}

// BuildListEnvironmentsRequest instantiates a HTTP request object with method
// and path set to call the "environments" service "listEnvironments" endpoint
func (c *Client) BuildListEnvironmentsRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: ListEnvironmentsEnvironmentsPath()}
	req, err := http.NewRequest("GET", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "listEnvironments", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeListEnvironmentsRequest returns an encoder for requests sent to the
// environments listEnvironments server.
func EncodeListEnvironmentsRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.ListEnvironmentsPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "listEnvironments", "*environments.ListEnvironmentsPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		return nil
	}
}

// DecodeListEnvironmentsResponse returns a decoder for responses returned by
// the environments listEnvironments endpoint. restoreBody controls whether the
// response body should be restored after having been read.
// DecodeListEnvironmentsResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeListEnvironmentsResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			var (
				body ListEnvironmentsResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			res := NewListEnvironmentsResultOK(&body)
			return res, nil
		case http.StatusUnauthorized:
			var (
				body ListEnvironmentsUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body ListEnvironmentsForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsForbidden(&body)
		case http.StatusBadRequest:
			var (
				body ListEnvironmentsBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsBadRequest(&body)
		case http.StatusNotFound:
			var (
				body ListEnvironmentsNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsNotFound(&body)
		case http.StatusConflict:
			var (
				body ListEnvironmentsConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body ListEnvironmentsUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body ListEnvironmentsInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body ListEnvironmentsInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
				}
				err = ValidateListEnvironmentsInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
				}
				return nil, NewListEnvironmentsInvariantViolation(&body)
			case "unexpected":
				var (
					body ListEnvironmentsUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
				}
				err = ValidateListEnvironmentsUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
				}
				return nil, NewListEnvironmentsUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "listEnvironments", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body ListEnvironmentsGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "listEnvironments", err)
			}
			err = ValidateListEnvironmentsGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "listEnvironments", err)
			}
			return nil, NewListEnvironmentsGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "listEnvironments", resp.StatusCode, string(body))
		}
	}
}

// BuildUpdateEnvironmentRequest instantiates a HTTP request object with method
// and path set to call the "environments" service "updateEnvironment" endpoint
func (c *Client) BuildUpdateEnvironmentRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: UpdateEnvironmentEnvironmentsPath()}
	req, err := http.NewRequest("POST", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "updateEnvironment", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeUpdateEnvironmentRequest returns an encoder for requests sent to the
// environments updateEnvironment server.
func EncodeUpdateEnvironmentRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.UpdateEnvironmentPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "updateEnvironment", "*environments.UpdateEnvironmentPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		values := req.URL.Query()
		values.Add("slug", string(p.Slug))
		req.URL.RawQuery = values.Encode()
		body := NewUpdateEnvironmentRequestBody(p)
		if err := encoder(req).Encode(&body); err != nil {
			return goahttp.ErrEncodingError("environments", "updateEnvironment", err)
		}
		return nil
	}
}

// DecodeUpdateEnvironmentResponse returns a decoder for responses returned by
// the environments updateEnvironment endpoint. restoreBody controls whether
// the response body should be restored after having been read.
// DecodeUpdateEnvironmentResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeUpdateEnvironmentResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			var (
				body UpdateEnvironmentResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			res := NewUpdateEnvironmentEnvironmentOK(&body)
			return res, nil
		case http.StatusUnauthorized:
			var (
				body UpdateEnvironmentUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body UpdateEnvironmentForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentForbidden(&body)
		case http.StatusBadRequest:
			var (
				body UpdateEnvironmentBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentBadRequest(&body)
		case http.StatusNotFound:
			var (
				body UpdateEnvironmentNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentNotFound(&body)
		case http.StatusConflict:
			var (
				body UpdateEnvironmentConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body UpdateEnvironmentUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body UpdateEnvironmentInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body UpdateEnvironmentInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
				}
				err = ValidateUpdateEnvironmentInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
				}
				return nil, NewUpdateEnvironmentInvariantViolation(&body)
			case "unexpected":
				var (
					body UpdateEnvironmentUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
				}
				err = ValidateUpdateEnvironmentUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
				}
				return nil, NewUpdateEnvironmentUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "updateEnvironment", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body UpdateEnvironmentGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "updateEnvironment", err)
			}
			err = ValidateUpdateEnvironmentGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "updateEnvironment", err)
			}
			return nil, NewUpdateEnvironmentGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "updateEnvironment", resp.StatusCode, string(body))
		}
	}
}

// BuildDeleteEnvironmentRequest instantiates a HTTP request object with method
// and path set to call the "environments" service "deleteEnvironment" endpoint
func (c *Client) BuildDeleteEnvironmentRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: DeleteEnvironmentEnvironmentsPath()}
	req, err := http.NewRequest("DELETE", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "deleteEnvironment", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeDeleteEnvironmentRequest returns an encoder for requests sent to the
// environments deleteEnvironment server.
func EncodeDeleteEnvironmentRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.DeleteEnvironmentPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "deleteEnvironment", "*environments.DeleteEnvironmentPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		values := req.URL.Query()
		values.Add("slug", string(p.Slug))
		req.URL.RawQuery = values.Encode()
		return nil
	}
}

// DecodeDeleteEnvironmentResponse returns a decoder for responses returned by
// the environments deleteEnvironment endpoint. restoreBody controls whether
// the response body should be restored after having been read.
// DecodeDeleteEnvironmentResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeDeleteEnvironmentResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			return nil, nil
		case http.StatusUnauthorized:
			var (
				body DeleteEnvironmentUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body DeleteEnvironmentForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentForbidden(&body)
		case http.StatusBadRequest:
			var (
				body DeleteEnvironmentBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentBadRequest(&body)
		case http.StatusNotFound:
			var (
				body DeleteEnvironmentNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentNotFound(&body)
		case http.StatusConflict:
			var (
				body DeleteEnvironmentConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body DeleteEnvironmentUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body DeleteEnvironmentInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body DeleteEnvironmentInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
				}
				err = ValidateDeleteEnvironmentInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
				}
				return nil, NewDeleteEnvironmentInvariantViolation(&body)
			case "unexpected":
				var (
					body DeleteEnvironmentUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
				}
				err = ValidateDeleteEnvironmentUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
				}
				return nil, NewDeleteEnvironmentUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "deleteEnvironment", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body DeleteEnvironmentGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteEnvironment", err)
			}
			err = ValidateDeleteEnvironmentGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteEnvironment", err)
			}
			return nil, NewDeleteEnvironmentGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "deleteEnvironment", resp.StatusCode, string(body))
		}
	}
}

// BuildSetSourceEnvironmentLinkRequest instantiates a HTTP request object with
// method and path set to call the "environments" service
// "setSourceEnvironmentLink" endpoint
func (c *Client) BuildSetSourceEnvironmentLinkRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: SetSourceEnvironmentLinkEnvironmentsPath()}
	req, err := http.NewRequest("PUT", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "setSourceEnvironmentLink", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeSetSourceEnvironmentLinkRequest returns an encoder for requests sent
// to the environments setSourceEnvironmentLink server.
func EncodeSetSourceEnvironmentLinkRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.SetSourceEnvironmentLinkPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "setSourceEnvironmentLink", "*environments.SetSourceEnvironmentLinkPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		body := NewSetSourceEnvironmentLinkRequestBody(p)
		if err := encoder(req).Encode(&body); err != nil {
			return goahttp.ErrEncodingError("environments", "setSourceEnvironmentLink", err)
		}
		return nil
	}
}

// DecodeSetSourceEnvironmentLinkResponse returns a decoder for responses
// returned by the environments setSourceEnvironmentLink endpoint. restoreBody
// controls whether the response body should be restored after having been read.
// DecodeSetSourceEnvironmentLinkResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeSetSourceEnvironmentLinkResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			var (
				body SetSourceEnvironmentLinkResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			res := NewSetSourceEnvironmentLinkSourceEnvironmentLinkOK(&body)
			return res, nil
		case http.StatusUnauthorized:
			var (
				body SetSourceEnvironmentLinkUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body SetSourceEnvironmentLinkForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkForbidden(&body)
		case http.StatusBadRequest:
			var (
				body SetSourceEnvironmentLinkBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkBadRequest(&body)
		case http.StatusNotFound:
			var (
				body SetSourceEnvironmentLinkNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkNotFound(&body)
		case http.StatusConflict:
			var (
				body SetSourceEnvironmentLinkConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body SetSourceEnvironmentLinkUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body SetSourceEnvironmentLinkInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body SetSourceEnvironmentLinkInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
				}
				err = ValidateSetSourceEnvironmentLinkInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
				}
				return nil, NewSetSourceEnvironmentLinkInvariantViolation(&body)
			case "unexpected":
				var (
					body SetSourceEnvironmentLinkUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
				}
				err = ValidateSetSourceEnvironmentLinkUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
				}
				return nil, NewSetSourceEnvironmentLinkUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "setSourceEnvironmentLink", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body SetSourceEnvironmentLinkGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setSourceEnvironmentLink", err)
			}
			err = ValidateSetSourceEnvironmentLinkGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setSourceEnvironmentLink", err)
			}
			return nil, NewSetSourceEnvironmentLinkGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "setSourceEnvironmentLink", resp.StatusCode, string(body))
		}
	}
}

// BuildDeleteSourceEnvironmentLinkRequest instantiates a HTTP request object
// with method and path set to call the "environments" service
// "deleteSourceEnvironmentLink" endpoint
func (c *Client) BuildDeleteSourceEnvironmentLinkRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: DeleteSourceEnvironmentLinkEnvironmentsPath()}
	req, err := http.NewRequest("DELETE", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "deleteSourceEnvironmentLink", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeDeleteSourceEnvironmentLinkRequest returns an encoder for requests
// sent to the environments deleteSourceEnvironmentLink server.
func EncodeDeleteSourceEnvironmentLinkRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.DeleteSourceEnvironmentLinkPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "deleteSourceEnvironmentLink", "*environments.DeleteSourceEnvironmentLinkPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		values := req.URL.Query()
		values.Add("source_kind", string(p.SourceKind))
		values.Add("source_slug", p.SourceSlug)
		req.URL.RawQuery = values.Encode()
		return nil
	}
}

// DecodeDeleteSourceEnvironmentLinkResponse returns a decoder for responses
// returned by the environments deleteSourceEnvironmentLink endpoint.
// restoreBody controls whether the response body should be restored after
// having been read.
// DecodeDeleteSourceEnvironmentLinkResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeDeleteSourceEnvironmentLinkResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			return nil, nil
		case http.StatusUnauthorized:
			var (
				body DeleteSourceEnvironmentLinkUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body DeleteSourceEnvironmentLinkForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkForbidden(&body)
		case http.StatusBadRequest:
			var (
				body DeleteSourceEnvironmentLinkBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkBadRequest(&body)
		case http.StatusNotFound:
			var (
				body DeleteSourceEnvironmentLinkNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkNotFound(&body)
		case http.StatusConflict:
			var (
				body DeleteSourceEnvironmentLinkConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body DeleteSourceEnvironmentLinkUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body DeleteSourceEnvironmentLinkInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body DeleteSourceEnvironmentLinkInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
				}
				err = ValidateDeleteSourceEnvironmentLinkInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
				}
				return nil, NewDeleteSourceEnvironmentLinkInvariantViolation(&body)
			case "unexpected":
				var (
					body DeleteSourceEnvironmentLinkUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
				}
				err = ValidateDeleteSourceEnvironmentLinkUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
				}
				return nil, NewDeleteSourceEnvironmentLinkUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "deleteSourceEnvironmentLink", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body DeleteSourceEnvironmentLinkGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteSourceEnvironmentLink", err)
			}
			err = ValidateDeleteSourceEnvironmentLinkGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteSourceEnvironmentLink", err)
			}
			return nil, NewDeleteSourceEnvironmentLinkGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "deleteSourceEnvironmentLink", resp.StatusCode, string(body))
		}
	}
}

// BuildGetSourceEnvironmentRequest instantiates a HTTP request object with
// method and path set to call the "environments" service
// "getSourceEnvironment" endpoint
func (c *Client) BuildGetSourceEnvironmentRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: GetSourceEnvironmentEnvironmentsPath()}
	req, err := http.NewRequest("GET", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "getSourceEnvironment", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeGetSourceEnvironmentRequest returns an encoder for requests sent to
// the environments getSourceEnvironment server.
func EncodeGetSourceEnvironmentRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.GetSourceEnvironmentPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "getSourceEnvironment", "*environments.GetSourceEnvironmentPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		values := req.URL.Query()
		values.Add("source_kind", string(p.SourceKind))
		values.Add("source_slug", p.SourceSlug)
		req.URL.RawQuery = values.Encode()
		return nil
	}
}

// DecodeGetSourceEnvironmentResponse returns a decoder for responses returned
// by the environments getSourceEnvironment endpoint. restoreBody controls
// whether the response body should be restored after having been read.
// DecodeGetSourceEnvironmentResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeGetSourceEnvironmentResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			var (
				body GetSourceEnvironmentResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			res := NewGetSourceEnvironmentEnvironmentOK(&body)
			return res, nil
		case http.StatusUnauthorized:
			var (
				body GetSourceEnvironmentUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body GetSourceEnvironmentForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentForbidden(&body)
		case http.StatusBadRequest:
			var (
				body GetSourceEnvironmentBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentBadRequest(&body)
		case http.StatusNotFound:
			var (
				body GetSourceEnvironmentNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentNotFound(&body)
		case http.StatusConflict:
			var (
				body GetSourceEnvironmentConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body GetSourceEnvironmentUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body GetSourceEnvironmentInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body GetSourceEnvironmentInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
				}
				err = ValidateGetSourceEnvironmentInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
				}
				return nil, NewGetSourceEnvironmentInvariantViolation(&body)
			case "unexpected":
				var (
					body GetSourceEnvironmentUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
				}
				err = ValidateGetSourceEnvironmentUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
				}
				return nil, NewGetSourceEnvironmentUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "getSourceEnvironment", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body GetSourceEnvironmentGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getSourceEnvironment", err)
			}
			err = ValidateGetSourceEnvironmentGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getSourceEnvironment", err)
			}
			return nil, NewGetSourceEnvironmentGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "getSourceEnvironment", resp.StatusCode, string(body))
		}
	}
}

// BuildSetToolsetEnvironmentLinkRequest instantiates a HTTP request object
// with method and path set to call the "environments" service
// "setToolsetEnvironmentLink" endpoint
func (c *Client) BuildSetToolsetEnvironmentLinkRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: SetToolsetEnvironmentLinkEnvironmentsPath()}
	req, err := http.NewRequest("PUT", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "setToolsetEnvironmentLink", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeSetToolsetEnvironmentLinkRequest returns an encoder for requests sent
// to the environments setToolsetEnvironmentLink server.
func EncodeSetToolsetEnvironmentLinkRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.SetToolsetEnvironmentLinkPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "setToolsetEnvironmentLink", "*environments.SetToolsetEnvironmentLinkPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		body := NewSetToolsetEnvironmentLinkRequestBody(p)
		if err := encoder(req).Encode(&body); err != nil {
			return goahttp.ErrEncodingError("environments", "setToolsetEnvironmentLink", err)
		}
		return nil
	}
}

// DecodeSetToolsetEnvironmentLinkResponse returns a decoder for responses
// returned by the environments setToolsetEnvironmentLink endpoint. restoreBody
// controls whether the response body should be restored after having been read.
// DecodeSetToolsetEnvironmentLinkResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeSetToolsetEnvironmentLinkResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			var (
				body SetToolsetEnvironmentLinkResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			res := NewSetToolsetEnvironmentLinkToolsetEnvironmentLinkOK(&body)
			return res, nil
		case http.StatusUnauthorized:
			var (
				body SetToolsetEnvironmentLinkUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body SetToolsetEnvironmentLinkForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkForbidden(&body)
		case http.StatusBadRequest:
			var (
				body SetToolsetEnvironmentLinkBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkBadRequest(&body)
		case http.StatusNotFound:
			var (
				body SetToolsetEnvironmentLinkNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkNotFound(&body)
		case http.StatusConflict:
			var (
				body SetToolsetEnvironmentLinkConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body SetToolsetEnvironmentLinkUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body SetToolsetEnvironmentLinkInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body SetToolsetEnvironmentLinkInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
				}
				err = ValidateSetToolsetEnvironmentLinkInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
				}
				return nil, NewSetToolsetEnvironmentLinkInvariantViolation(&body)
			case "unexpected":
				var (
					body SetToolsetEnvironmentLinkUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
				}
				err = ValidateSetToolsetEnvironmentLinkUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
				}
				return nil, NewSetToolsetEnvironmentLinkUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "setToolsetEnvironmentLink", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body SetToolsetEnvironmentLinkGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "setToolsetEnvironmentLink", err)
			}
			err = ValidateSetToolsetEnvironmentLinkGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "setToolsetEnvironmentLink", err)
			}
			return nil, NewSetToolsetEnvironmentLinkGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "setToolsetEnvironmentLink", resp.StatusCode, string(body))
		}
	}
}

// BuildDeleteToolsetEnvironmentLinkRequest instantiates a HTTP request object
// with method and path set to call the "environments" service
// "deleteToolsetEnvironmentLink" endpoint
func (c *Client) BuildDeleteToolsetEnvironmentLinkRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: DeleteToolsetEnvironmentLinkEnvironmentsPath()}
	req, err := http.NewRequest("DELETE", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "deleteToolsetEnvironmentLink", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeDeleteToolsetEnvironmentLinkRequest returns an encoder for requests
// sent to the environments deleteToolsetEnvironmentLink server.
func EncodeDeleteToolsetEnvironmentLinkRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.DeleteToolsetEnvironmentLinkPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "deleteToolsetEnvironmentLink", "*environments.DeleteToolsetEnvironmentLinkPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		values := req.URL.Query()
		values.Add("toolset_id", p.ToolsetID)
		req.URL.RawQuery = values.Encode()
		return nil
	}
}

// DecodeDeleteToolsetEnvironmentLinkResponse returns a decoder for responses
// returned by the environments deleteToolsetEnvironmentLink endpoint.
// restoreBody controls whether the response body should be restored after
// having been read.
// DecodeDeleteToolsetEnvironmentLinkResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeDeleteToolsetEnvironmentLinkResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			return nil, nil
		case http.StatusUnauthorized:
			var (
				body DeleteToolsetEnvironmentLinkUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body DeleteToolsetEnvironmentLinkForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkForbidden(&body)
		case http.StatusBadRequest:
			var (
				body DeleteToolsetEnvironmentLinkBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkBadRequest(&body)
		case http.StatusNotFound:
			var (
				body DeleteToolsetEnvironmentLinkNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkNotFound(&body)
		case http.StatusConflict:
			var (
				body DeleteToolsetEnvironmentLinkConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body DeleteToolsetEnvironmentLinkUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body DeleteToolsetEnvironmentLinkInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body DeleteToolsetEnvironmentLinkInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
				}
				err = ValidateDeleteToolsetEnvironmentLinkInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
				}
				return nil, NewDeleteToolsetEnvironmentLinkInvariantViolation(&body)
			case "unexpected":
				var (
					body DeleteToolsetEnvironmentLinkUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
				}
				err = ValidateDeleteToolsetEnvironmentLinkUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
				}
				return nil, NewDeleteToolsetEnvironmentLinkUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "deleteToolsetEnvironmentLink", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body DeleteToolsetEnvironmentLinkGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "deleteToolsetEnvironmentLink", err)
			}
			err = ValidateDeleteToolsetEnvironmentLinkGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "deleteToolsetEnvironmentLink", err)
			}
			return nil, NewDeleteToolsetEnvironmentLinkGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "deleteToolsetEnvironmentLink", resp.StatusCode, string(body))
		}
	}
}

// BuildGetToolsetEnvironmentRequest instantiates a HTTP request object with
// method and path set to call the "environments" service
// "getToolsetEnvironment" endpoint
func (c *Client) BuildGetToolsetEnvironmentRequest(ctx context.Context, v any) (*http.Request, error) {
	u := &url.URL{Scheme: c.scheme, Host: c.host, Path: GetToolsetEnvironmentEnvironmentsPath()}
	req, err := http.NewRequest("GET", u.String(), nil)
	if err != nil {
		return nil, goahttp.ErrInvalidURL("environments", "getToolsetEnvironment", u.String(), err)
	}
	if ctx != nil {
		req = req.WithContext(ctx)
	}

	return req, nil
}

// EncodeGetToolsetEnvironmentRequest returns an encoder for requests sent to
// the environments getToolsetEnvironment server.
func EncodeGetToolsetEnvironmentRequest(encoder func(*http.Request) goahttp.Encoder) func(*http.Request, any) error {
	return func(req *http.Request, v any) error {
		p, ok := v.(*environments.GetToolsetEnvironmentPayload)
		if !ok {
			return goahttp.ErrInvalidType("environments", "getToolsetEnvironment", "*environments.GetToolsetEnvironmentPayload", v)
		}
		if p.SessionToken != nil {
			head := *p.SessionToken
			req.Header.Set("Gram-Session", head)
		}
		if p.ProjectSlugInput != nil {
			head := *p.ProjectSlugInput
			req.Header.Set("Gram-Project", head)
		}
		values := req.URL.Query()
		values.Add("toolset_id", p.ToolsetID)
		req.URL.RawQuery = values.Encode()
		return nil
	}
}

// DecodeGetToolsetEnvironmentResponse returns a decoder for responses returned
// by the environments getToolsetEnvironment endpoint. restoreBody controls
// whether the response body should be restored after having been read.
// DecodeGetToolsetEnvironmentResponse may return the following errors:
//   - "unauthorized" (type *goa.ServiceError): http.StatusUnauthorized
//   - "forbidden" (type *goa.ServiceError): http.StatusForbidden
//   - "bad_request" (type *goa.ServiceError): http.StatusBadRequest
//   - "not_found" (type *goa.ServiceError): http.StatusNotFound
//   - "conflict" (type *goa.ServiceError): http.StatusConflict
//   - "unsupported_media" (type *goa.ServiceError): http.StatusUnsupportedMediaType
//   - "invalid" (type *goa.ServiceError): http.StatusUnprocessableEntity
//   - "invariant_violation" (type *goa.ServiceError): http.StatusInternalServerError
//   - "unexpected" (type *goa.ServiceError): http.StatusInternalServerError
//   - "gateway_error" (type *goa.ServiceError): http.StatusBadGateway
//   - error: internal error
func DecodeGetToolsetEnvironmentResponse(decoder func(*http.Response) goahttp.Decoder, restoreBody bool) func(*http.Response) (any, error) {
	return func(resp *http.Response) (any, error) {
		if restoreBody {
			b, err := io.ReadAll(resp.Body)
			if err != nil {
				return nil, err
			}
			resp.Body = io.NopCloser(bytes.NewBuffer(b))
			defer func() {
				resp.Body = io.NopCloser(bytes.NewBuffer(b))
			}()
		} else {
			defer resp.Body.Close()
		}
		switch resp.StatusCode {
		case http.StatusOK:
			var (
				body GetToolsetEnvironmentResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			res := NewGetToolsetEnvironmentEnvironmentOK(&body)
			return res, nil
		case http.StatusUnauthorized:
			var (
				body GetToolsetEnvironmentUnauthorizedResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentUnauthorizedResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentUnauthorized(&body)
		case http.StatusForbidden:
			var (
				body GetToolsetEnvironmentForbiddenResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentForbiddenResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentForbidden(&body)
		case http.StatusBadRequest:
			var (
				body GetToolsetEnvironmentBadRequestResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentBadRequestResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentBadRequest(&body)
		case http.StatusNotFound:
			var (
				body GetToolsetEnvironmentNotFoundResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentNotFoundResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentNotFound(&body)
		case http.StatusConflict:
			var (
				body GetToolsetEnvironmentConflictResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentConflictResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentConflict(&body)
		case http.StatusUnsupportedMediaType:
			var (
				body GetToolsetEnvironmentUnsupportedMediaResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentUnsupportedMediaResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentUnsupportedMedia(&body)
		case http.StatusUnprocessableEntity:
			var (
				body GetToolsetEnvironmentInvalidResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentInvalidResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentInvalid(&body)
		case http.StatusInternalServerError:
			en := resp.Header.Get("goa-error")
			switch en {
			case "invariant_violation":
				var (
					body GetToolsetEnvironmentInvariantViolationResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
				}
				err = ValidateGetToolsetEnvironmentInvariantViolationResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
				}
				return nil, NewGetToolsetEnvironmentInvariantViolation(&body)
			case "unexpected":
				var (
					body GetToolsetEnvironmentUnexpectedResponseBody
					err  error
				)
				err = decoder(resp).Decode(&body)
				if err != nil {
					return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
				}
				err = ValidateGetToolsetEnvironmentUnexpectedResponseBody(&body)
				if err != nil {
					return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
				}
				return nil, NewGetToolsetEnvironmentUnexpected(&body)
			default:
				body, _ := io.ReadAll(resp.Body)
				return nil, goahttp.ErrInvalidResponse("environments", "getToolsetEnvironment", resp.StatusCode, string(body))
			}
		case http.StatusBadGateway:
			var (
				body GetToolsetEnvironmentGatewayErrorResponseBody
				err  error
			)
			err = decoder(resp).Decode(&body)
			if err != nil {
				return nil, goahttp.ErrDecodingError("environments", "getToolsetEnvironment", err)
			}
			err = ValidateGetToolsetEnvironmentGatewayErrorResponseBody(&body)
			if err != nil {
				return nil, goahttp.ErrValidationError("environments", "getToolsetEnvironment", err)
			}
			return nil, NewGetToolsetEnvironmentGatewayError(&body)
		default:
			body, _ := io.ReadAll(resp.Body)
			return nil, goahttp.ErrInvalidResponse("environments", "getToolsetEnvironment", resp.StatusCode, string(body))
		}
	}
}

// marshalEnvironmentsEnvironmentEntryInputToEnvironmentEntryInputRequestBody
// builds a value of type *EnvironmentEntryInputRequestBody from a value of
// type *environments.EnvironmentEntryInput.
func marshalEnvironmentsEnvironmentEntryInputToEnvironmentEntryInputRequestBody(v *environments.EnvironmentEntryInput) *EnvironmentEntryInputRequestBody {
	res := &EnvironmentEntryInputRequestBody{
		Name:  v.Name,
		Value: v.Value,
	}

	return res
}

// marshalEnvironmentEntryInputRequestBodyToEnvironmentsEnvironmentEntryInput
// builds a value of type *environments.EnvironmentEntryInput from a value of
// type *EnvironmentEntryInputRequestBody.
func marshalEnvironmentEntryInputRequestBodyToEnvironmentsEnvironmentEntryInput(v *EnvironmentEntryInputRequestBody) *environments.EnvironmentEntryInput {
	res := &environments.EnvironmentEntryInput{
		Name:  v.Name,
		Value: v.Value,
	}

	return res
}

// unmarshalEnvironmentEntryResponseBodyToTypesEnvironmentEntry builds a value
// of type *types.EnvironmentEntry from a value of type
// *EnvironmentEntryResponseBody.
func unmarshalEnvironmentEntryResponseBodyToTypesEnvironmentEntry(v *EnvironmentEntryResponseBody) *types.EnvironmentEntry {
	res := &types.EnvironmentEntry{
		Name:      *v.Name,
		Value:     *v.Value,
		CreatedAt: *v.CreatedAt,
		UpdatedAt: *v.UpdatedAt,
	}

	return res
}

// unmarshalEnvironmentResponseBodyToTypesEnvironment builds a value of type
// *types.Environment from a value of type *EnvironmentResponseBody.
func unmarshalEnvironmentResponseBodyToTypesEnvironment(v *EnvironmentResponseBody) *types.Environment {
	res := &types.Environment{
		ID:             *v.ID,
		OrganizationID: *v.OrganizationID,
		ProjectID:      *v.ProjectID,
		Name:           *v.Name,
		Slug:           types.Slug(*v.Slug),
		Description:    v.Description,
		CreatedAt:      *v.CreatedAt,
		UpdatedAt:      *v.UpdatedAt,
	}
	res.Entries = make([]*types.EnvironmentEntry, len(v.Entries))
	for i, val := range v.Entries {
		if val == nil {
			res.Entries[i] = nil
			continue
		}
		res.Entries[i] = unmarshalEnvironmentEntryResponseBodyToTypesEnvironmentEntry(val)
	}

	return res
}
