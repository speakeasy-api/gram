<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MCP Server Authorization Failed</title>
    <meta name="robots" content="noindex, nofollow" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        box-sizing: border-box;
      }

      html,
      body {
        --font-diatype:
          "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;

        --color-base-white: hsl(0 0% 100%);
        --color-base-black: hsl(0 0% 0%);
        --color-neutral-100: hsl(0, 0%, 98%);
        --color-neutral-700: hsl(0, 0%, 33%);
        --color-feedback-red-100: hsl(0, 35%, 93%);
        --color-feedback-red-300: hsl(0, 30%, 73%);
        --color-feedback-red-700: hsl(0, 24%, 27%);
        --color-brand-blue-600: hsl(215, 71%, 40%);
        --color-feedback-violet-600: hsl(268, 75%, 31%);

        --text-default: var(--color-neutral-700);
        --text-default-error: var(--color-feedback-red-700);
        --bg-surface-secondary-default: var(--color-neutral-100);
        --bg-surface-primary-default: var(--color-base-white);
        --bg-error-softest: var(--color-feedback-red-100);
        --border-error-softest: var(--color-feedback-red-300);
        --color-link-default: var(--color-brand-blue-600);
        --color-link-visited-primary: var(--color-feedback-violet-600);
        --fill-neutral-highlight: var(--color-base-black);
        --ease-in-out-quad: cubic-bezier(0.455, 0.03, 0.515, 0.955);

        margin: 0;
        padding: 0;
        min-height: 100vh;
        font-family: var(--font-diatype);
        font-weight: 300;
        color: var(--text-default);
        background: var(--bg-surface-secondary-default);
      }

      .main {
        padding: 6rem 1rem;
      }

      @media (min-width: 768px) {
        .main {
          padding: 6rem 6rem;
        }
      }

      @media (min-width: 1024px) {
        .main {
          padding: 6rem 13rem;
        }
      }

      a {
        text-decoration: none;
        color: var(--color-link-default);
      }

      a:visited {
        color: var(--color-link-visited-primary);
      }

      .failure-container {
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
      }

      .failure-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
      }

      .failure-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--bg-error-softest);
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px solid var(--border-error-softest);
      }

      .failure-icon svg {
        width: 48px;
        height: 48px;
      }

      .failure-message {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .failure-title {
        margin: 0;
        font-size: 2.5rem;
        font-weight: 300;
        color: var(--fill-neutral-highlight);
      }

      .failure-description {
        margin: 0;
        font-size: 1.125rem;
        color: var(--text-default);
        line-height: 1.6;
      }

      .error-code {
        margin: 0;
        font-size: 0.875rem;
        opacity: 0.7;
        color: var(--text-default);
      }

      .redirect-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        color: var(--text-default);
      }

      .redirect-countdown {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        opacity: 0.7;
      }

      .redirect-countdown svg {
        width: 16px;
        height: 16px;
      }

      .redirect-link {
        font-size: 0.875rem;
        text-decoration: underline;
      }

      @property --gradient-rotation {
        syntax: "<angle>";
        inherits: true;
        initial-value: 0deg;
      }

      .gram-brand-badge {
        position: fixed;
        bottom: 1.25rem;
        right: 1rem;
        transition: --gradient-rotation 250ms var(--ease-in-out-quad);
        --mouse-center-offset-x: 0;
        --mouse-center-offset-y: 0;
        --gradient-rotation: calc(
          -1 *
            atan2(var(--mouse-center-offset-x), var(--mouse-center-offset-y)) -
            90deg
        );
        --border-radius-px: 2px;
        --border-px: 1px;
        --gradient-stops:
          hsl(334, 54%, 13%), hsl(4, 67%, 47%), hsl(23, 96%, 62%),
          hsl(68, 52%, 72%), hsl(108, 24%, 41%), hsl(154, 100%, 7%),
          hsl(220, 100%, 12%), hsl(214, 69%, 50%), hsl(216, 100%, 80%),
          hsl(334, 54%, 13%);
      }

      .gram-brand-badge::before {
        position: absolute;
        content: "";
        background: conic-gradient(
          from var(--gradient-rotation),
          var(--gradient-stops)
        );
        z-index: -1;
        border-radius: var(--border-radius-px);
        width: calc(100% + 2 * var(--border-px));
        height: calc(100% + 2 * var(--border-px));
        left: calc(-1 * var(--border-px));
        top: calc(-1 * var(--border-px));
      }

      .gram-brand-badge::after {
        content: "";
        position: absolute;
        border-radius: var(--border-radius-px);
        width: calc(100% + 2 * var(--border-px));
        height: calc(100% + 2 * var(--border-px));
        left: calc(-1 * var(--border-px));
        top: calc(-1 * var(--border-px));
        background: conic-gradient(
          from var(--gradient-rotation),
          var(--gradient-stops)
        );
        filter: blur(0px);
        transition: filter 250ms var(--ease-in-out-quad);
        z-index: -2;
      }

      .gram-brand-badge:hover::after {
        filter: blur(2px);
      }

      .gram-brand-badge div {
        display: flex;
        gap: 4px;
        align-items: center;
        background: var(--bg-surface-primary-default);
        z-index: 0;
        width: 100%;
        height: 100%;
        border-radius: var(--border-radius-px);
        padding: 0.25rem 0.5rem;
      }
    </style>
  </head>
  <body data-redirect-url="{{ .RedirectURL }}">
    <main class="main">
      <div class="content-container failure-container">
        <div class="failure-content">
          <!-- Failure Icon -->
          <div class="failure-icon">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18 6L6 18M6 6L18 18"
                stroke="var(--text-default-error)"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>

          <!-- Failure Message -->
          <div class="failure-message">
            <h1 class="failure-title">Gram Authorization Failed</h1>
            <p class="failure-description">{{ .ErrorDescription }}</p>
            {{- if .ErrorCode }}
            <p class="error-code">Code: {{ .ErrorCode }}</p>
            {{- end }}
          </div>

          <!-- Redirect Countdown -->
          <div class="redirect-container">
            <div class="redirect-countdown">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M12 6V12L16 14"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              <span id="redirect-message"
                >Redirecting in <span id="countdown">5</span> seconds...</span
              >
            </div>
            <a
              href="{{ .RedirectURL }}"
              id="redirect-link"
              class="redirect-link"
              >Click here if you are not redirected automatically</a
            >
          </div>
        </div>
      </div>
    </main>
    <footer>
      <a
        class="gram-brand-badge"
        href="https://getgram.ai"
        target="_blank"
        rel="noopener noreferrer"
      >
        <div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M7.56199 0.117067C7.83268 -0.0383304 8.16706 -0.0401451 8.4406 0.118361L15.5335 3.84566L15.5413 3.84955L15.5445 3.85149L15.5503 3.85537C15.8322 4.02542 15.9992 4.33425 15.9994 4.65893V5.44502C15.9993 5.76868 15.8339 6.0786 15.5536 6.24729L15.5452 6.25246L15.5426 6.25376L15.5342 6.25829L15.0101 6.52549L15.5374 6.81017L15.5439 6.8134L15.5471 6.81534L15.5516 6.81858C15.8312 6.98808 16 7.29656 16 7.62149V8.60362C15.9999 8.92696 15.8347 9.23581 15.5549 9.40459L15.5555 9.40524L15.549 9.40912L15.5445 9.41236L15.5374 9.41559L15.5368 9.41494L15.0405 9.67568L15.5355 9.93577L15.5426 9.93965L15.5452 9.94159L15.5523 9.94548C15.8342 10.1155 15.9999 10.4243 16 10.749V11.3384C16 11.6621 15.8346 11.972 15.5542 12.1407L15.5478 12.1446L15.5452 12.1465L15.5381 12.1498L8.43801 15.881L8.40566 15.8984L8.40437 15.8971C8.34506 15.9279 8.28347 15.9513 8.21998 15.9677L8.21868 15.9709L8.2051 16H8.00065C7.8499 16 7.69766 15.9606 7.56005 15.8803L0.464537 12.153L0.45742 12.1491L0.454832 12.1478L0.448362 12.1439C0.166336 11.9739 5.24173e-05 11.6645 0 11.3397V4.65893C0.000108839 4.33533 0.165439 4.02595 0.445774 3.85731L0.452244 3.85278L0.454832 3.85149L0.461949 3.8476L7.56199 0.117067ZM7.95665 0.753704C7.94566 0.757075 7.93491 0.762196 7.9243 0.768585L7.91654 0.773113L7.9146 0.77376L7.90748 0.777642L0.821027 4.50042C0.776271 4.52943 0.740157 4.58945 0.740154 4.66022V11.341C0.740313 11.412 0.777427 11.4724 0.824262 11.5021L7.90489 15.2223L7.90554 15.223L7.91201 15.2262L7.91395 15.2275L7.92107 15.2314C7.97097 15.2614 8.02767 15.2604 8.07246 15.2333L8.07893 15.2288L8.08928 15.2236L15.1744 11.5002C15.2197 11.4715 15.2565 11.4121 15.2566 11.341V10.751C15.2565 10.6808 15.2208 10.6213 15.1751 10.5912L14.2383 10.0988L8.43607 13.1481L8.43542 13.1474C8.16461 13.3027 7.83223 13.303 7.5607 13.1481L2.10983 10.3686L2.10077 10.3641L2.09753 10.3621L2.08977 10.357C1.89083 10.2369 1.77413 10.0216 1.77404 9.79537V9.64786C1.77407 9.42152 1.88965 9.20705 2.08524 9.08757L2.09171 9.08369L2.09559 9.0811L2.10336 9.07722L4.06567 8.04527L2.10659 7.01073L2.09947 7.0075L2.09495 7.00491L2.08848 7.00038C1.8917 6.88047 1.77478 6.66679 1.77469 6.43944V6.29193C1.77472 6.0657 1.89039 5.85116 2.08589 5.73164L2.09559 5.72581L2.09947 5.72323L2.10983 5.7187L7.56522 2.98193C7.83645 2.82643 8.17018 2.82805 8.44189 2.98582L14.2143 6.09848L15.1796 5.60418C15.2217 5.57625 15.2585 5.51804 15.2586 5.44696V4.66152C15.2586 4.59004 15.2219 4.52876 15.1751 4.49912L8.09446 0.779583L8.0867 0.775701L8.08346 0.77376L8.07634 0.769231C8.05271 0.755028 8.02569 0.747881 7.99935 0.747881H7.98965L7.95665 0.753704ZM2.51484 9.70091V9.73715L7.90101 12.4856H7.90231L7.91072 12.4901L7.91266 12.4914L7.92107 12.4966C7.97213 12.5274 8.02939 12.5254 8.07376 12.4985L8.08087 12.4946L8.08281 12.4933L8.09058 12.4894L13.4379 9.67892L11.1748 8.48975L8.43283 9.89307L8.43219 9.89242C8.1615 10.0466 7.82842 10.0456 7.55746 9.88854L4.8647 8.46581L2.51484 9.70091ZM8.07829 6.86063C8.02838 6.8306 7.96914 6.8326 7.92754 6.85804L7.92107 6.86257L7.91654 6.86516L7.90813 6.86904L5.66632 8.04656L7.90554 9.22926L7.91719 9.23508L7.92366 9.23896C7.97357 9.2689 8.02965 9.26739 8.0744 9.24026L8.08217 9.23508L8.0854 9.23314L8.09446 9.22926L10.3693 8.06468L8.09446 6.86969L8.09381 6.86904L8.0867 6.86581L8.0854 6.86516L8.07829 6.86063ZM11.9867 8.07374L14.2383 9.25708L15.179 8.76278C15.2227 8.73318 15.2579 8.67485 15.2579 8.60556V7.62343C15.2579 7.55213 15.2207 7.4914 15.1738 7.46169L14.204 6.93827L11.9867 8.07374ZM8.07699 3.6341C8.02703 3.60408 7.97021 3.60461 7.9256 3.63151L7.92624 3.63216L7.91719 3.63798L7.91201 3.64057L7.90231 3.64445L2.51613 6.34692V6.38315L4.86664 7.62473L7.56134 6.20847C7.69513 6.13082 7.84794 6.09136 8.00065 6.09136C8.15492 6.09156 8.30567 6.13343 8.43801 6.20976L11.1799 7.64996L13.4088 6.50996L8.09058 3.64186L8.08993 3.64122L8.08411 3.63798L8.08281 3.63733L8.07699 3.6341Z"
              fill="#111111"
            />
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="39"
            height="14"
            viewBox="0 0 39 14"
            fill="none"
          >
            <path
              d="M24.5254 9.86307V0.444787H25.8366L26.0397 1.70056C26.4829 1.03574 27.3509 0.333984 28.7913 0.333984C30.1025 0.333984 31.229 0.924935 31.7645 2.1253C32.337 1.10961 33.3527 0.333984 35.0332 0.333984C36.9908 0.333984 38.5974 1.40508 38.5974 4.17517V9.86307H37.0831V4.2675C37.0831 2.62392 36.2705 1.71903 34.8486 1.71903C33.2789 1.71903 32.3186 2.82706 32.3186 4.56298V9.86307H30.8042V4.2675C30.8042 2.62392 29.9732 1.71903 28.5328 1.71903C26.9815 1.71903 26.0397 2.93786 26.0397 4.63685V9.86307H24.5254Z"
              fill="#111111"
            />
            <path
              d="M18.5231 9.97387C16.4548 9.97387 15.0513 8.93971 15.0513 7.22226C15.0513 5.3386 16.3624 4.28597 18.8371 4.28597H21.6071V3.63962C21.6071 2.36538 20.7392 1.68209 19.2618 1.68209C17.8768 1.68209 17.0457 2.30998 16.8611 3.27027H15.3467C15.5684 1.42355 17.0642 0.333984 19.3357 0.333984C21.7364 0.333984 23.1214 1.53435 23.1214 3.73195V7.85014C23.1214 8.34876 23.3061 8.47803 23.7309 8.47803H25.7124V9.86307H23.38C22.1796 9.86307 21.681 9.30905 21.681 8.44109V8.40416C21.127 9.25365 20.1482 9.97387 18.5231 9.97387ZM18.6339 8.68117C20.5176 8.68117 21.6071 7.5916 21.6071 6.02189V5.56021H18.6893C17.3412 5.56021 16.584 6.05882 16.584 7.12992C16.584 8.12715 17.3781 8.68117 18.6339 8.68117Z"
              fill="#111111"
            />
            <path
              d="M10.5562 9.8636V0.445312H11.8673L12.0705 1.86729C12.5137 1.14707 13.2339 0.445312 14.9144 0.445312H15.3392V1.92269H14.582C12.606 1.92269 12.0705 3.56627 12.0705 5.06212V9.8636H10.5562Z"
              fill="#111111"
            />
            <path
              d="M4.59834 13.6673C2.1976 13.6673 0.517082 12.5408 0.277008 10.4725H1.82826C2.0868 11.6544 3.13943 12.3192 4.70914 12.3192C6.68513 12.3192 7.75623 11.3959 7.75623 9.34599V8.34876C7.12835 9.21672 6.11265 9.97387 4.52447 9.97387C1.92059 9.97387 0 8.21949 0 5.15393C0 2.27304 1.92059 0.333984 4.52447 0.333984C6.11265 0.333984 7.18375 0.980337 7.75623 1.88523L7.95937 0.444787H9.27055V9.40139C9.27055 12.1161 7.8301 13.6673 4.59834 13.6673ZM4.67221 8.62577C6.51893 8.62577 7.7747 7.20379 7.7747 5.19086C7.7747 3.12253 6.51893 1.68209 4.67221 1.68209C2.80702 1.68209 1.55125 3.10407 1.55125 5.15393C1.55125 7.20379 2.80702 8.62577 4.67221 8.62577Z"
              fill="#111111"
            />
          </svg>
        </div>
      </a>
    </footer>
    <script src="/oauth/oauth_success-{{ .ScriptHash }}.js"></script>
  </body>
</html>
