-- Create "toolset_environments" table
CREATE TABLE "toolset_environments" ("id" uuid NOT NULL DEFAULT generate_uuidv7(), "toolset_id" uuid NOT NULL, "project_id" uuid NOT NULL, "environment_id" uuid NOT NULL, "created_at" timestamptz NOT NULL DEFAULT clock_timestamp(), "updated_at" timestamptz NOT NULL DEFAULT clock_timestamp(), PRIMARY KEY ("id"), CONSTRAINT "toolset_environments_environment_id_fkey" FOREIGN KEY ("environment_id") REFERENCES "environments" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "toolset_environments_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "projects" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "toolset_environments_toolset_id_fkey" FOREIGN KEY ("toolset_id") REFERENCES "toolsets" ("id") ON UPDATE NO ACTION ON DELETE CASCADE);
-- Create index "toolset_environments_toolset_id_idx" to table: "toolset_environments"
CREATE UNIQUE INDEX "toolset_environments_toolset_id_idx" ON "toolset_environments" ("toolset_id");
