// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/speakeasy-api/gram/openrouter/internal/utils"
)

type ResponsesOutputItemFunctionCallType string

const (
	ResponsesOutputItemFunctionCallTypeFunctionCall ResponsesOutputItemFunctionCallType = "function_call"
)

func (e ResponsesOutputItemFunctionCallType) ToPointer() *ResponsesOutputItemFunctionCallType {
	return &e
}
func (e *ResponsesOutputItemFunctionCallType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "function_call":
		*e = ResponsesOutputItemFunctionCallType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ResponsesOutputItemFunctionCallType: %v", v)
	}
}

type ResponsesOutputItemFunctionCallStatusInProgress string

const (
	ResponsesOutputItemFunctionCallStatusInProgressInProgress ResponsesOutputItemFunctionCallStatusInProgress = "in_progress"
)

func (e ResponsesOutputItemFunctionCallStatusInProgress) ToPointer() *ResponsesOutputItemFunctionCallStatusInProgress {
	return &e
}
func (e *ResponsesOutputItemFunctionCallStatusInProgress) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "in_progress":
		*e = ResponsesOutputItemFunctionCallStatusInProgress(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ResponsesOutputItemFunctionCallStatusInProgress: %v", v)
	}
}

type ResponsesOutputItemFunctionCallStatusIncomplete string

const (
	ResponsesOutputItemFunctionCallStatusIncompleteIncomplete ResponsesOutputItemFunctionCallStatusIncomplete = "incomplete"
)

func (e ResponsesOutputItemFunctionCallStatusIncomplete) ToPointer() *ResponsesOutputItemFunctionCallStatusIncomplete {
	return &e
}
func (e *ResponsesOutputItemFunctionCallStatusIncomplete) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "incomplete":
		*e = ResponsesOutputItemFunctionCallStatusIncomplete(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ResponsesOutputItemFunctionCallStatusIncomplete: %v", v)
	}
}

type ResponsesOutputItemFunctionCallStatusCompleted string

const (
	ResponsesOutputItemFunctionCallStatusCompletedCompleted ResponsesOutputItemFunctionCallStatusCompleted = "completed"
)

func (e ResponsesOutputItemFunctionCallStatusCompleted) ToPointer() *ResponsesOutputItemFunctionCallStatusCompleted {
	return &e
}
func (e *ResponsesOutputItemFunctionCallStatusCompleted) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "completed":
		*e = ResponsesOutputItemFunctionCallStatusCompleted(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ResponsesOutputItemFunctionCallStatusCompleted: %v", v)
	}
}

type ResponsesOutputItemFunctionCallStatusUnionType string

const (
	ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusCompleted  ResponsesOutputItemFunctionCallStatusUnionType = "ResponsesOutputItemFunctionCall_status_Completed"
	ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusIncomplete ResponsesOutputItemFunctionCallStatusUnionType = "ResponsesOutputItemFunctionCall_status_Incomplete"
	ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusInProgress ResponsesOutputItemFunctionCallStatusUnionType = "ResponsesOutputItemFunctionCall_status_InProgress"
)

type ResponsesOutputItemFunctionCallStatusUnion struct {
	ResponsesOutputItemFunctionCallStatusCompleted  *ResponsesOutputItemFunctionCallStatusCompleted  `queryParam:"inline" union:"member"`
	ResponsesOutputItemFunctionCallStatusIncomplete *ResponsesOutputItemFunctionCallStatusIncomplete `queryParam:"inline" union:"member"`
	ResponsesOutputItemFunctionCallStatusInProgress *ResponsesOutputItemFunctionCallStatusInProgress `queryParam:"inline" union:"member"`

	Type ResponsesOutputItemFunctionCallStatusUnionType
}

func CreateResponsesOutputItemFunctionCallStatusUnionResponsesOutputItemFunctionCallStatusCompleted(responsesOutputItemFunctionCallStatusCompleted ResponsesOutputItemFunctionCallStatusCompleted) ResponsesOutputItemFunctionCallStatusUnion {
	typ := ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusCompleted

	return ResponsesOutputItemFunctionCallStatusUnion{
		ResponsesOutputItemFunctionCallStatusCompleted: &responsesOutputItemFunctionCallStatusCompleted,
		Type: typ,
	}
}

func CreateResponsesOutputItemFunctionCallStatusUnionResponsesOutputItemFunctionCallStatusIncomplete(responsesOutputItemFunctionCallStatusIncomplete ResponsesOutputItemFunctionCallStatusIncomplete) ResponsesOutputItemFunctionCallStatusUnion {
	typ := ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusIncomplete

	return ResponsesOutputItemFunctionCallStatusUnion{
		ResponsesOutputItemFunctionCallStatusIncomplete: &responsesOutputItemFunctionCallStatusIncomplete,
		Type: typ,
	}
}

func CreateResponsesOutputItemFunctionCallStatusUnionResponsesOutputItemFunctionCallStatusInProgress(responsesOutputItemFunctionCallStatusInProgress ResponsesOutputItemFunctionCallStatusInProgress) ResponsesOutputItemFunctionCallStatusUnion {
	typ := ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusInProgress

	return ResponsesOutputItemFunctionCallStatusUnion{
		ResponsesOutputItemFunctionCallStatusInProgress: &responsesOutputItemFunctionCallStatusInProgress,
		Type: typ,
	}
}

func (u *ResponsesOutputItemFunctionCallStatusUnion) UnmarshalJSON(data []byte) error {

	var candidates []utils.UnionCandidate

	// Collect all valid candidates
	var responsesOutputItemFunctionCallStatusCompleted ResponsesOutputItemFunctionCallStatusCompleted = ResponsesOutputItemFunctionCallStatusCompleted("")
	if err := utils.UnmarshalJSON(data, &responsesOutputItemFunctionCallStatusCompleted, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusCompleted,
			Value: &responsesOutputItemFunctionCallStatusCompleted,
		})
	}

	var responsesOutputItemFunctionCallStatusIncomplete ResponsesOutputItemFunctionCallStatusIncomplete = ResponsesOutputItemFunctionCallStatusIncomplete("")
	if err := utils.UnmarshalJSON(data, &responsesOutputItemFunctionCallStatusIncomplete, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusIncomplete,
			Value: &responsesOutputItemFunctionCallStatusIncomplete,
		})
	}

	var responsesOutputItemFunctionCallStatusInProgress ResponsesOutputItemFunctionCallStatusInProgress = ResponsesOutputItemFunctionCallStatusInProgress("")
	if err := utils.UnmarshalJSON(data, &responsesOutputItemFunctionCallStatusInProgress, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusInProgress,
			Value: &responsesOutputItemFunctionCallStatusInProgress,
		})
	}

	if len(candidates) == 0 {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for ResponsesOutputItemFunctionCallStatusUnion", string(data))
	}

	// Pick the best candidate using multi-stage filtering
	best := utils.PickBestUnionCandidate(candidates, data)
	if best == nil {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for ResponsesOutputItemFunctionCallStatusUnion", string(data))
	}

	// Set the union type and value based on the best candidate
	u.Type = best.Type.(ResponsesOutputItemFunctionCallStatusUnionType)
	switch best.Type {
	case ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusCompleted:
		u.ResponsesOutputItemFunctionCallStatusCompleted = best.Value.(*ResponsesOutputItemFunctionCallStatusCompleted)
		return nil
	case ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusIncomplete:
		u.ResponsesOutputItemFunctionCallStatusIncomplete = best.Value.(*ResponsesOutputItemFunctionCallStatusIncomplete)
		return nil
	case ResponsesOutputItemFunctionCallStatusUnionTypeResponsesOutputItemFunctionCallStatusInProgress:
		u.ResponsesOutputItemFunctionCallStatusInProgress = best.Value.(*ResponsesOutputItemFunctionCallStatusInProgress)
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for ResponsesOutputItemFunctionCallStatusUnion", string(data))
}

func (u ResponsesOutputItemFunctionCallStatusUnion) MarshalJSON() ([]byte, error) {
	if u.ResponsesOutputItemFunctionCallStatusCompleted != nil {
		return utils.MarshalJSON(u.ResponsesOutputItemFunctionCallStatusCompleted, "", true)
	}

	if u.ResponsesOutputItemFunctionCallStatusIncomplete != nil {
		return utils.MarshalJSON(u.ResponsesOutputItemFunctionCallStatusIncomplete, "", true)
	}

	if u.ResponsesOutputItemFunctionCallStatusInProgress != nil {
		return utils.MarshalJSON(u.ResponsesOutputItemFunctionCallStatusInProgress, "", true)
	}

	return nil, errors.New("could not marshal union type ResponsesOutputItemFunctionCallStatusUnion: all fields are null")
}

type ResponsesOutputItemFunctionCall struct {
	Type      ResponsesOutputItemFunctionCallType         `json:"type"`
	ID        *string                                     `json:"id,omitzero"`
	Name      string                                      `json:"name"`
	Arguments string                                      `json:"arguments"`
	CallID    string                                      `json:"call_id"`
	Status    *ResponsesOutputItemFunctionCallStatusUnion `json:"status,omitzero"`
}

func (r ResponsesOutputItemFunctionCall) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(r, "", false)
}

func (r *ResponsesOutputItemFunctionCall) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &r, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (r *ResponsesOutputItemFunctionCall) GetType() ResponsesOutputItemFunctionCallType {
	if r == nil {
		return ResponsesOutputItemFunctionCallType("")
	}
	return r.Type
}

func (r *ResponsesOutputItemFunctionCall) GetID() *string {
	if r == nil {
		return nil
	}
	return r.ID
}

func (r *ResponsesOutputItemFunctionCall) GetName() string {
	if r == nil {
		return ""
	}
	return r.Name
}

func (r *ResponsesOutputItemFunctionCall) GetArguments() string {
	if r == nil {
		return ""
	}
	return r.Arguments
}

func (r *ResponsesOutputItemFunctionCall) GetCallID() string {
	if r == nil {
		return ""
	}
	return r.CallID
}

func (r *ResponsesOutputItemFunctionCall) GetStatus() *ResponsesOutputItemFunctionCallStatusUnion {
	if r == nil {
		return nil
	}
	return r.Status
}
