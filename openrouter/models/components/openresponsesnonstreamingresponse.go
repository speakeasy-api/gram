// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/speakeasy-api/gram/openrouter/internal/utils"
	"github.com/speakeasy-api/gram/openrouter/optionalnullable"
)

type Object string

const (
	ObjectResponse Object = "response"
)

func (e Object) ToPointer() *Object {
	return &e
}
func (e *Object) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "response":
		*e = Object(v)
		return nil
	default:
		return fmt.Errorf("invalid value for Object: %v", v)
	}
}

type OpenResponsesNonStreamingResponseType string

const (
	OpenResponsesNonStreamingResponseTypeFunction OpenResponsesNonStreamingResponseType = "function"
)

func (e OpenResponsesNonStreamingResponseType) ToPointer() *OpenResponsesNonStreamingResponseType {
	return &e
}
func (e *OpenResponsesNonStreamingResponseType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "function":
		*e = OpenResponsesNonStreamingResponseType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for OpenResponsesNonStreamingResponseType: %v", v)
	}
}

// OpenResponsesNonStreamingResponseToolFunction - Function tool definition
type OpenResponsesNonStreamingResponseToolFunction struct {
	Type        OpenResponsesNonStreamingResponseType     `json:"type"`
	Name        string                                    `json:"name"`
	Description optionalnullable.OptionalNullable[string] `json:"description,omitzero"`
	Strict      optionalnullable.OptionalNullable[bool]   `json:"strict,omitzero"`
	Parameters  map[string]any                            `json:"parameters"`
}

func (o OpenResponsesNonStreamingResponseToolFunction) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(o, "", false)
}

func (o *OpenResponsesNonStreamingResponseToolFunction) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &o, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (o *OpenResponsesNonStreamingResponseToolFunction) GetType() OpenResponsesNonStreamingResponseType {
	if o == nil {
		return OpenResponsesNonStreamingResponseType("")
	}
	return o.Type
}

func (o *OpenResponsesNonStreamingResponseToolFunction) GetName() string {
	if o == nil {
		return ""
	}
	return o.Name
}

func (o *OpenResponsesNonStreamingResponseToolFunction) GetDescription() optionalnullable.OptionalNullable[string] {
	if o == nil {
		return nil
	}
	return o.Description
}

func (o *OpenResponsesNonStreamingResponseToolFunction) GetStrict() optionalnullable.OptionalNullable[bool] {
	if o == nil {
		return nil
	}
	return o.Strict
}

func (o *OpenResponsesNonStreamingResponseToolFunction) GetParameters() map[string]any {
	if o == nil {
		return nil
	}
	return o.Parameters
}

type OpenResponsesNonStreamingResponseToolUnionType string

const (
	OpenResponsesNonStreamingResponseToolUnionTypeFunction                 OpenResponsesNonStreamingResponseToolUnionType = "function"
	OpenResponsesNonStreamingResponseToolUnionTypeWebSearchPreview         OpenResponsesNonStreamingResponseToolUnionType = "web_search_preview"
	OpenResponsesNonStreamingResponseToolUnionTypeWebSearchPreview20250311 OpenResponsesNonStreamingResponseToolUnionType = "web_search_preview_2025_03_11"
	OpenResponsesNonStreamingResponseToolUnionTypeWebSearch                OpenResponsesNonStreamingResponseToolUnionType = "web_search"
	OpenResponsesNonStreamingResponseToolUnionTypeWebSearch20250826        OpenResponsesNonStreamingResponseToolUnionType = "web_search_2025_08_26"
)

type OpenResponsesNonStreamingResponseToolUnion struct {
	OpenResponsesNonStreamingResponseToolFunction *OpenResponsesNonStreamingResponseToolFunction `queryParam:"inline" union:"member"`
	OpenResponsesWebSearchPreviewTool             *OpenResponsesWebSearchPreviewTool             `queryParam:"inline" union:"member"`
	OpenResponsesWebSearchPreview20250311Tool     *OpenResponsesWebSearchPreview20250311Tool     `queryParam:"inline" union:"member"`
	OpenResponsesWebSearchTool                    *OpenResponsesWebSearchTool                    `queryParam:"inline" union:"member"`
	OpenResponsesWebSearch20250826Tool            *OpenResponsesWebSearch20250826Tool            `queryParam:"inline" union:"member"`

	Type OpenResponsesNonStreamingResponseToolUnionType
}

func CreateOpenResponsesNonStreamingResponseToolUnionFunction(function OpenResponsesNonStreamingResponseToolFunction) OpenResponsesNonStreamingResponseToolUnion {
	typ := OpenResponsesNonStreamingResponseToolUnionTypeFunction

	typStr := OpenResponsesNonStreamingResponseType(typ)
	function.Type = typStr

	return OpenResponsesNonStreamingResponseToolUnion{
		OpenResponsesNonStreamingResponseToolFunction: &function,
		Type: typ,
	}
}

func CreateOpenResponsesNonStreamingResponseToolUnionWebSearchPreview(webSearchPreview OpenResponsesWebSearchPreviewTool) OpenResponsesNonStreamingResponseToolUnion {
	typ := OpenResponsesNonStreamingResponseToolUnionTypeWebSearchPreview

	typStr := OpenResponsesWebSearchPreviewToolType(typ)
	webSearchPreview.Type = typStr

	return OpenResponsesNonStreamingResponseToolUnion{
		OpenResponsesWebSearchPreviewTool: &webSearchPreview,
		Type:                              typ,
	}
}

func CreateOpenResponsesNonStreamingResponseToolUnionWebSearchPreview20250311(webSearchPreview20250311 OpenResponsesWebSearchPreview20250311Tool) OpenResponsesNonStreamingResponseToolUnion {
	typ := OpenResponsesNonStreamingResponseToolUnionTypeWebSearchPreview20250311

	typStr := OpenResponsesWebSearchPreview20250311ToolType(typ)
	webSearchPreview20250311.Type = typStr

	return OpenResponsesNonStreamingResponseToolUnion{
		OpenResponsesWebSearchPreview20250311Tool: &webSearchPreview20250311,
		Type: typ,
	}
}

func CreateOpenResponsesNonStreamingResponseToolUnionWebSearch(webSearch OpenResponsesWebSearchTool) OpenResponsesNonStreamingResponseToolUnion {
	typ := OpenResponsesNonStreamingResponseToolUnionTypeWebSearch

	typStr := OpenResponsesWebSearchToolType(typ)
	webSearch.Type = typStr

	return OpenResponsesNonStreamingResponseToolUnion{
		OpenResponsesWebSearchTool: &webSearch,
		Type:                       typ,
	}
}

func CreateOpenResponsesNonStreamingResponseToolUnionWebSearch20250826(webSearch20250826 OpenResponsesWebSearch20250826Tool) OpenResponsesNonStreamingResponseToolUnion {
	typ := OpenResponsesNonStreamingResponseToolUnionTypeWebSearch20250826

	typStr := OpenResponsesWebSearch20250826ToolType(typ)
	webSearch20250826.Type = typStr

	return OpenResponsesNonStreamingResponseToolUnion{
		OpenResponsesWebSearch20250826Tool: &webSearch20250826,
		Type:                               typ,
	}
}

func (u *OpenResponsesNonStreamingResponseToolUnion) UnmarshalJSON(data []byte) error {

	type discriminator struct {
		Type string `json:"type"`
	}

	dis := new(discriminator)
	if err := json.Unmarshal(data, &dis); err != nil {
		return fmt.Errorf("could not unmarshal discriminator: %w", err)
	}

	switch dis.Type {
	case "function":
		openResponsesNonStreamingResponseToolFunction := new(OpenResponsesNonStreamingResponseToolFunction)
		if err := utils.UnmarshalJSON(data, &openResponsesNonStreamingResponseToolFunction, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (Type == function) type OpenResponsesNonStreamingResponseToolFunction within OpenResponsesNonStreamingResponseToolUnion: %w", string(data), err)
		}

		u.OpenResponsesNonStreamingResponseToolFunction = openResponsesNonStreamingResponseToolFunction
		u.Type = OpenResponsesNonStreamingResponseToolUnionTypeFunction
		return nil
	case "web_search_preview":
		openResponsesWebSearchPreviewTool := new(OpenResponsesWebSearchPreviewTool)
		if err := utils.UnmarshalJSON(data, &openResponsesWebSearchPreviewTool, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (Type == web_search_preview) type OpenResponsesWebSearchPreviewTool within OpenResponsesNonStreamingResponseToolUnion: %w", string(data), err)
		}

		u.OpenResponsesWebSearchPreviewTool = openResponsesWebSearchPreviewTool
		u.Type = OpenResponsesNonStreamingResponseToolUnionTypeWebSearchPreview
		return nil
	case "web_search_preview_2025_03_11":
		openResponsesWebSearchPreview20250311Tool := new(OpenResponsesWebSearchPreview20250311Tool)
		if err := utils.UnmarshalJSON(data, &openResponsesWebSearchPreview20250311Tool, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (Type == web_search_preview_2025_03_11) type OpenResponsesWebSearchPreview20250311Tool within OpenResponsesNonStreamingResponseToolUnion: %w", string(data), err)
		}

		u.OpenResponsesWebSearchPreview20250311Tool = openResponsesWebSearchPreview20250311Tool
		u.Type = OpenResponsesNonStreamingResponseToolUnionTypeWebSearchPreview20250311
		return nil
	case "web_search":
		openResponsesWebSearchTool := new(OpenResponsesWebSearchTool)
		if err := utils.UnmarshalJSON(data, &openResponsesWebSearchTool, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (Type == web_search) type OpenResponsesWebSearchTool within OpenResponsesNonStreamingResponseToolUnion: %w", string(data), err)
		}

		u.OpenResponsesWebSearchTool = openResponsesWebSearchTool
		u.Type = OpenResponsesNonStreamingResponseToolUnionTypeWebSearch
		return nil
	case "web_search_2025_08_26":
		openResponsesWebSearch20250826Tool := new(OpenResponsesWebSearch20250826Tool)
		if err := utils.UnmarshalJSON(data, &openResponsesWebSearch20250826Tool, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (Type == web_search_2025_08_26) type OpenResponsesWebSearch20250826Tool within OpenResponsesNonStreamingResponseToolUnion: %w", string(data), err)
		}

		u.OpenResponsesWebSearch20250826Tool = openResponsesWebSearch20250826Tool
		u.Type = OpenResponsesNonStreamingResponseToolUnionTypeWebSearch20250826
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for OpenResponsesNonStreamingResponseToolUnion", string(data))
}

func (u OpenResponsesNonStreamingResponseToolUnion) MarshalJSON() ([]byte, error) {
	if u.OpenResponsesNonStreamingResponseToolFunction != nil {
		return utils.MarshalJSON(u.OpenResponsesNonStreamingResponseToolFunction, "", true)
	}

	if u.OpenResponsesWebSearchPreviewTool != nil {
		return utils.MarshalJSON(u.OpenResponsesWebSearchPreviewTool, "", true)
	}

	if u.OpenResponsesWebSearchPreview20250311Tool != nil {
		return utils.MarshalJSON(u.OpenResponsesWebSearchPreview20250311Tool, "", true)
	}

	if u.OpenResponsesWebSearchTool != nil {
		return utils.MarshalJSON(u.OpenResponsesWebSearchTool, "", true)
	}

	if u.OpenResponsesWebSearch20250826Tool != nil {
		return utils.MarshalJSON(u.OpenResponsesWebSearch20250826Tool, "", true)
	}

	return nil, errors.New("could not marshal union type OpenResponsesNonStreamingResponseToolUnion: all fields are null")
}

// OpenResponsesNonStreamingResponse - Complete non-streaming response from the Responses API
type OpenResponsesNonStreamingResponse struct {
	ID               string                                    `json:"id"`
	Object           Object                                    `json:"object"`
	CreatedAt        float64                                   `json:"created_at"`
	Model            string                                    `json:"model"`
	Status           OpenAIResponsesResponseStatus             `json:"status"`
	CompletedAt      *float64                                  `json:"completed_at"`
	Output           []ResponsesOutputItem                     `json:"output"`
	User             optionalnullable.OptionalNullable[string] `json:"user,omitzero"`
	OutputText       *string                                   `json:"output_text,omitzero"`
	PromptCacheKey   optionalnullable.OptionalNullable[string] `json:"prompt_cache_key,omitzero"`
	SafetyIdentifier optionalnullable.OptionalNullable[string] `json:"safety_identifier,omitzero"`
	// Error information returned from the API
	Error             *ResponsesErrorField              `json:"error"`
	IncompleteDetails *OpenAIResponsesIncompleteDetails `json:"incomplete_details"`
	// Token usage information for the response
	Usage            optionalnullable.OptionalNullable[OpenResponsesUsage] `json:"usage,omitzero"`
	MaxToolCalls     optionalnullable.OptionalNullable[float64]            `json:"max_tool_calls,omitzero"`
	TopLogprobs      *float64                                              `json:"top_logprobs,omitzero"`
	MaxOutputTokens  optionalnullable.OptionalNullable[float64]            `json:"max_output_tokens,omitzero"`
	Temperature      *float64                                              `json:"temperature"`
	TopP             *float64                                              `json:"top_p"`
	PresencePenalty  *float64                                              `json:"presence_penalty"`
	FrequencyPenalty *float64                                              `json:"frequency_penalty"`
	Instructions     *OpenAIResponsesInputUnion                            `json:"instructions"`
	// Metadata key-value pairs for the request. Keys must be ≤64 characters and cannot contain brackets. Values must be ≤512 characters. Maximum 16 pairs allowed.
	Metadata           map[string]string                                                 `json:"metadata"`
	Tools              []OpenResponsesNonStreamingResponseToolUnion                      `json:"tools"`
	ToolChoice         OpenAIResponsesToolChoiceUnion                                    `json:"tool_choice"`
	ParallelToolCalls  bool                                                              `json:"parallel_tool_calls"`
	Prompt             optionalnullable.OptionalNullable[OpenAIResponsesPrompt]          `json:"prompt,omitzero"`
	Background         optionalnullable.OptionalNullable[bool]                           `json:"background,omitzero"`
	PreviousResponseID optionalnullable.OptionalNullable[string]                         `json:"previous_response_id,omitzero"`
	Reasoning          optionalnullable.OptionalNullable[OpenAIResponsesReasoningConfig] `json:"reasoning,omitzero"`
	ServiceTier        optionalnullable.OptionalNullable[OpenAIResponsesServiceTier]     `json:"service_tier,omitzero"`
	Store              *bool                                                             `json:"store,omitzero"`
	Truncation         optionalnullable.OptionalNullable[OpenAIResponsesTruncation]      `json:"truncation,omitzero"`
	// Text output configuration including format and verbosity
	Text *ResponseTextConfig `json:"text,omitzero"`
}

func (o OpenResponsesNonStreamingResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(o, "", false)
}

func (o *OpenResponsesNonStreamingResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &o, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (o *OpenResponsesNonStreamingResponse) GetID() string {
	if o == nil {
		return ""
	}
	return o.ID
}

func (o *OpenResponsesNonStreamingResponse) GetObject() Object {
	if o == nil {
		return Object("")
	}
	return o.Object
}

func (o *OpenResponsesNonStreamingResponse) GetCreatedAt() float64 {
	if o == nil {
		return 0.0
	}
	return o.CreatedAt
}

func (o *OpenResponsesNonStreamingResponse) GetModel() string {
	if o == nil {
		return ""
	}
	return o.Model
}

func (o *OpenResponsesNonStreamingResponse) GetStatus() OpenAIResponsesResponseStatus {
	if o == nil {
		return OpenAIResponsesResponseStatus("")
	}
	return o.Status
}

func (o *OpenResponsesNonStreamingResponse) GetCompletedAt() *float64 {
	if o == nil {
		return nil
	}
	return o.CompletedAt
}

func (o *OpenResponsesNonStreamingResponse) GetOutput() []ResponsesOutputItem {
	if o == nil {
		return []ResponsesOutputItem{}
	}
	return o.Output
}

func (o *OpenResponsesNonStreamingResponse) GetUser() optionalnullable.OptionalNullable[string] {
	if o == nil {
		return nil
	}
	return o.User
}

func (o *OpenResponsesNonStreamingResponse) GetOutputText() *string {
	if o == nil {
		return nil
	}
	return o.OutputText
}

func (o *OpenResponsesNonStreamingResponse) GetPromptCacheKey() optionalnullable.OptionalNullable[string] {
	if o == nil {
		return nil
	}
	return o.PromptCacheKey
}

func (o *OpenResponsesNonStreamingResponse) GetSafetyIdentifier() optionalnullable.OptionalNullable[string] {
	if o == nil {
		return nil
	}
	return o.SafetyIdentifier
}

func (o *OpenResponsesNonStreamingResponse) GetError() *ResponsesErrorField {
	if o == nil {
		return nil
	}
	return o.Error
}

func (o *OpenResponsesNonStreamingResponse) GetIncompleteDetails() *OpenAIResponsesIncompleteDetails {
	if o == nil {
		return nil
	}
	return o.IncompleteDetails
}

func (o *OpenResponsesNonStreamingResponse) GetUsage() optionalnullable.OptionalNullable[OpenResponsesUsage] {
	if o == nil {
		return nil
	}
	return o.Usage
}

func (o *OpenResponsesNonStreamingResponse) GetMaxToolCalls() optionalnullable.OptionalNullable[float64] {
	if o == nil {
		return nil
	}
	return o.MaxToolCalls
}

func (o *OpenResponsesNonStreamingResponse) GetTopLogprobs() *float64 {
	if o == nil {
		return nil
	}
	return o.TopLogprobs
}

func (o *OpenResponsesNonStreamingResponse) GetMaxOutputTokens() optionalnullable.OptionalNullable[float64] {
	if o == nil {
		return nil
	}
	return o.MaxOutputTokens
}

func (o *OpenResponsesNonStreamingResponse) GetTemperature() *float64 {
	if o == nil {
		return nil
	}
	return o.Temperature
}

func (o *OpenResponsesNonStreamingResponse) GetTopP() *float64 {
	if o == nil {
		return nil
	}
	return o.TopP
}

func (o *OpenResponsesNonStreamingResponse) GetPresencePenalty() *float64 {
	if o == nil {
		return nil
	}
	return o.PresencePenalty
}

func (o *OpenResponsesNonStreamingResponse) GetFrequencyPenalty() *float64 {
	if o == nil {
		return nil
	}
	return o.FrequencyPenalty
}

func (o *OpenResponsesNonStreamingResponse) GetInstructions() *OpenAIResponsesInputUnion {
	if o == nil {
		return nil
	}
	return o.Instructions
}

func (o *OpenResponsesNonStreamingResponse) GetMetadata() map[string]string {
	if o == nil {
		return nil
	}
	return o.Metadata
}

func (o *OpenResponsesNonStreamingResponse) GetTools() []OpenResponsesNonStreamingResponseToolUnion {
	if o == nil {
		return []OpenResponsesNonStreamingResponseToolUnion{}
	}
	return o.Tools
}

func (o *OpenResponsesNonStreamingResponse) GetToolChoice() OpenAIResponsesToolChoiceUnion {
	if o == nil {
		return OpenAIResponsesToolChoiceUnion{}
	}
	return o.ToolChoice
}

func (o *OpenResponsesNonStreamingResponse) GetParallelToolCalls() bool {
	if o == nil {
		return false
	}
	return o.ParallelToolCalls
}

func (o *OpenResponsesNonStreamingResponse) GetPrompt() optionalnullable.OptionalNullable[OpenAIResponsesPrompt] {
	if o == nil {
		return nil
	}
	return o.Prompt
}

func (o *OpenResponsesNonStreamingResponse) GetBackground() optionalnullable.OptionalNullable[bool] {
	if o == nil {
		return nil
	}
	return o.Background
}

func (o *OpenResponsesNonStreamingResponse) GetPreviousResponseID() optionalnullable.OptionalNullable[string] {
	if o == nil {
		return nil
	}
	return o.PreviousResponseID
}

func (o *OpenResponsesNonStreamingResponse) GetReasoning() optionalnullable.OptionalNullable[OpenAIResponsesReasoningConfig] {
	if o == nil {
		return nil
	}
	return o.Reasoning
}

func (o *OpenResponsesNonStreamingResponse) GetServiceTier() optionalnullable.OptionalNullable[OpenAIResponsesServiceTier] {
	if o == nil {
		return nil
	}
	return o.ServiceTier
}

func (o *OpenResponsesNonStreamingResponse) GetStore() *bool {
	if o == nil {
		return nil
	}
	return o.Store
}

func (o *OpenResponsesNonStreamingResponse) GetTruncation() optionalnullable.OptionalNullable[OpenAIResponsesTruncation] {
	if o == nil {
		return nil
	}
	return o.Truncation
}

func (o *OpenResponsesNonStreamingResponse) GetText() *ResponseTextConfig {
	if o == nil {
		return nil
	}
	return o.Text
}
